<!DOCTYPE html>
<html class="no-js hasSidebar hasPageActions hasBreadcrumb conceptual" data-authenticated="false" data-render="docs" dir="ltr" lang="en-us">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Receive-SmigServerData" property="og:title"/>
  <meta content="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/microsoft-header.png" property="og:image"/>
  <meta content="summary" name="twitter:card"/>
  <meta content="@docsmsft" name="twitter:site"/>
  <meta content="Receive-SmigServerData" name="twitter:title"/>
  <meta content="Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell." name="twitter:description"/>
  <meta content="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/microsoft-header.png" name="twitter:image"/>
  <meta content="Microsoft Logo" name="twitter:image:alt"/>
  <meta content="powershell" name="ms.devlang"/>
  <meta content="library" name="ms.sitesec"/>
  <meta content="INDEX, FOLLOW" name="ROBOTS"/>
  <meta content="brianlic-msft" name="author"/>
  <meta content="brianlic" name="ms.author"/>
  <meta content="alanth" name="manager"/>
  <meta content="/powershell/windows/bread/toc.json?view=win10-ps" name="breadcrumb_path"/>
  <meta content="powershell" name="apiPlatform"/>
  <meta content="powershell, cmdlet" name="keywords"/>
  <meta content="reference" name="ms.topic"/>
  <meta content="manage" name="ms.mktglfcycl"/>
  <meta content="2017-01-03" name="ms.date"/>
  <meta content="powershell-windows" name="ms.technology"/>
  <meta content="w10" name="ms.prod"/>
  <meta content="MSDocsHeader-WindowsIT" name="uhfHeaderId"/>
  <meta content="D8AD4455-C5F4-4EEB-9C81-6F6B5E3A2DC3" name="ms.assetid"/>
  <meta content="Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell." name="description"/>
  <meta content="2.0.0" name="schema"/>
  <meta content="Docs" name="search.ms_sitename"/>
  <meta content="powershell-windows" name="search.ms_docsetname"/>
  <meta content="0" name="version"/>
  <meta content="en-us" name="locale"/>
  <meta content="Docs" name="site_name"/>
  <meta content="MSDN" name="search.ms_product"/>
  <meta content="MSDN.powershell-windows" name="depot_name"/>
  <meta content="2017-09-21 10:56 PM" name="updated_at"/>
  <meta content="https://cpubwin.visualstudio.com/DefaultCollection/powershell/_git/powershell/commit/0a5ed820d23bc7d08f8acd6748e480a6144e78c3?path=%2fdocset%2fwindows%2fMicrosoft.Windows.ServerManager.Migration%2freceive-smigserverdata.md&amp;_a=contents" name="gitcommit"/>
  <meta content="https://cpubwin.visualstudio.com/DefaultCollection/powershell/_git/powershell?path=%2fdocset%2fwindows%2fMicrosoft.Windows.ServerManager.Migration%2freceive-smigserverdata.md&amp;version=GBlive&amp;_a=contents" name="original_content_git_url"/>
  <meta content="5c8158b8-68f7-5c58-934d-5911d9a7a185" name="document_id"/>
  <meta content="044794b9-0324-f61f-cff3-4a92154df6ce" name="document_version_independent_id"/>
  <meta content="conceptual" name="page_type"/>
  <meta content="../win10-ps/toc.json?view=win10-ps" name="toc_rel"/>
  <meta content="884" name="word_count"/>
  <link href="https://docs.microsoft.com/en-us/powershell/module/microsoft.windows.servermanager.migration/receive-smigserverdata" rel="canonical"/>
  <title>
   Receive-SmigServerData | Microsoft Docs
  </title>
  <link href="../../../../_themes/docs.theme/master/en-us/_themes/css/e4a1f3a3.site.css" rel="stylesheet"/>
  <link href="../../../../_themes/docs.theme/master/en-us/_themes/css/31353636.conceptual.css" rel="stylesheet"/>
 </head>
 <body dir="ltr" lang="en-us">
  <div class="header-holder">
   <div data-bi-name="header" id="headerAreaHolder">
    <div id="uhf-placeholder">
    </div>
   </div>
   <div class="disclaimer-holder" id="disclaimer-holder">
   </div>
  </div>
  <div class="container mainContainer" data-bi-name="body">
   <div class="content-header" data-bi-name="content-header">
    <div class="content-header-controls">
     <button class="contents-button button-border" data-bi-name="contents-expand" type="button">
      <span class="docon docon-menu">
      </span>
      Contents
     </button>
    </div>
    <div class="content-header-controls">
     <button class="ap-collapse-behavior ap-expanded button-border" data-bi-name="ap-collapse" type="button">
      <span class="docon docon-exit-mode">
      </span>
      Exit focus mode
     </button>
    </div>
   </div>
   <div class="primary-holder">
    <main class="content" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
     <h1 id="receive-smigserverdata" sourceendlinenumber="20" sourcefile="windows/Microsoft.Windows.ServerManager.Migration/receive-smigserverdata.md" sourcestartlinenumber="20">
      Receive-SmigServerData
     </h1>
     <ul class="metadata page-metadata" data-bi-name="page info" dir="ltr" lang="en-us">
      <li class="readingTime">
       <span aria-hidden="true" class="docon docon-clock">
       </span>
       4 minutes to read
      </li>
      <li class="contributors-holder">
       <span class="contributors-text">
        Contributors
       </span>
       <ul class="contributors" data-bi-name="contributors">
        <li>
         <a data-bi-name="contributorprofile" href="https://github.com/brianlic-msft" title="Brian Lich">
          <img alt="Brian Lich" data-src="https://github.com/brianlic-msft.png?size=32" src="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/contributor.svg"/>
         </a>
        </li>
        <li>
         <a data-bi-name="contributorprofile" href="https://github.com/TaraMeyer" title="TaraMeyer">
          <img alt="TaraMeyer" data-src="https://github.com/TaraMeyer.png?size=32" src="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/contributor.svg"/>
         </a>
        </li>
       </ul>
      </li>
     </ul>
     <!-- <content> -->
     <h2 id="synopsis">
      SYNOPSIS
     </h2>
     <p>
      Allows a destination server to receive shares, folders, files, and associated permissions and share properties that are migrated from a source server.
The cmdlet Send-SmigServerData must be run on the source server at the same time Receive-SmigServerData is running on the destination server.
     </p>
     <h2 id="syntax">
      SYNTAX
     </h2>
     <pre><code>Receive-SmigServerData -Password &lt;SecureString&gt; [&lt;CommonParameters&gt;]
</code></pre>
     <h2 id="description">
      DESCRIPTION
     </h2>
     <p>
      The
      <strong>
       Receive-SmigServerData
      </strong>
      cmdlet allows a destination server to receive, over port 7000, shares, folders, files, and associated permissions and share properties that are migrated from a source server.
The cmdlet Send-SmigServerData must be started on the source server to send data.
By default, the cmdlet
      <strong>
       Receive-SmigServerData
      </strong>
      can wait for a maximum of five minutes to establish a connection with the cmdlet
      <strong>
       Send-SmigServerData
      </strong>
      on the source server.
You can use a registry key to change the default maximum connection time; for more information about this registry setting, see the Notes.
     </p>
     <p>
      In this release of Windows Server, you can send and receive data between servers that are not necessarily on the same subnets.
You can also specify IP addresses as the names of the source or destination servers.
To support migration across subnets, and migrate by specifying IP addresses, port numbers 7001 and 7002 must be opened on source and destination servers.
     </p>
     <p>
      File access rights are maintained during the migration; the same set of users is able to access files on the destination server after they have been migrated.
Because files are sent by using an encrypted connection, a password must be provided to decrypt migrated files on both the source and destination servers.
Transporting encrypted files (EFS) and junction points is not supported.
     </p>
     <p>
      For online Help about the Windows Server Migration Tools cmdlets, see
      <a data-linktype="external" href="http://go.microsoft.com/fwlink/?LinkId=246313">
       Server Migration Cmdlets in Windows PowerShell
      </a>
      at
      <a data-linktype="external" href="http://go.microsoft.com/fwlink/?LinkId=246313">
       http://go.microsoft.com/fwlink/?LinkId=246313
      </a>
      .
     </p>
     <h2 id="examples">
      EXAMPLES
     </h2>
     <h3 id="example-1-receive-server-data">
      Example 1: Receive server data
     </h3>
     <pre><code>PS C:\&gt; Receive-SmigServerData
</code></pre>
     <p>
      This command receives data that is migrated from a source computer by using the cmdlet Send-SmigServerData.
Because a password is not provided in this sample command, after entering the command, the user is prompted to enter a password for decrypting the migrated data.
Password characters are displayed as asterisks (*).When the password is entered, the value is passed to the command as a SecureString.
     </p>
     <h3 id="example-2-receive-server-data-with-the-specified-password">
      Example 2: Receive server data with the specified password
     </h3>
     <pre><code>PS C:\&gt; Receive-SmigServerData -Password (Read-Host "Enter a Password:" -AsSecureString)
</code></pre>
     <p>
      This command receives data that is migrated from a source computer by using the cmdlet
      <strong>
       Send-SmigServerData
      </strong>
      .
The command also instructs the migration tools to display the string "Enter a Password:" to prompt users to enter the password to decrypt the migrated data.
Password characters are displayed as asterisks (*).
When the password is entered, the value is passed to the command as a SecureString.
     </p>
     <h3 id="example-3-create-a-password-variable-and-receive-server-data">
      Example 3: Create a password variable and receive server data
     </h3>
     <pre><code>PS C:\&gt; $pass = ConvertTo-SecureString -String "password" -AsPlainText -Force
PS C:\&gt; Receive-SmigServerData -Password $pass
</code></pre>
     <p>
      In this example, the first line of the command instructs the migration utilities to convert the data decryption password, represented by "password," to a secure string, and store it in the variable $pass.
     </p>
     <p>
      The second line of the sample command receives data that is migrated from a source computer by using the cmdlet
      <strong>
       Send-SmigServerData
      </strong>
      .
The second command also sets the value of the variable $pass, specified in the first command, as the password to decrypt the data transfer.
     </p>
     <h2 id="parameters">
      PARAMETERS
     </h2>
     <h3 id="-password">
      -Password
     </h3>
     <p>
      Use this parameter to specify the password, as a secure string, to decrypt the data transfer by using 256-bit advanced encryption standard (AES).
The secure string can be obtained by entering the command
      <code>
       Read-Host -AsSecureString
      </code>
      or
      <code>
       Convertto-Securestring
      </code>
      .
     </p>
     <p>
      You must specify a password to protect your data because migrated data is broadcast over a network.
If the
      <em>
       Password
      </em>
      parameter is not added to your command, you are prompted to specify a password after entering your command.
     </p>
     <pre><code class="lang-yaml">Type: SecureString
Parameter Sets: (All)
Aliases: 

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="commonparameters">
      CommonParameters
     </h3>
     <p>
      This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see
      <a data-linktype="external" href="http://go.microsoft.com/fwlink/?LinkID=113216">
       about_CommonParameters
      </a>
      .
     </p>
     <h2 id="inputs">
      INPUTS
     </h2>
     <h2 id="outputs">
      OUTPUTS
     </h2>
     <h2 id="notes">
      NOTES
     </h2>
     <ul>
      <li>
       <p>
        The Windows Server Migration Tools deployment log file is located in %windir%\Logs\SmigDeploy.log. Other Windows Server Migration Tools log files are created at the following locations:
       </p>
      </li>
      <li>
       <p>
        %windir%\Logs\ServerMigration.log
       </p>
      </li>
      <li>
       <p>
        On Windows Server 2008 and later versions: %localappdata%\SvrMig\Log
       </p>
      </li>
      <li>
       <p>
        On Windows Server 2003: %userprofile%\Local Settings\Application Data\SvrMig\Log
       </p>
       <p>
        If the log files cannot be created at these locations, ServerMigration.log and SmigDeploy.log will be created at %temp%, and other logs will be created at %windir%\System32.
       </p>
       <p>
        The maximum size of all log files (in MB) is stored in the following registry key.
When the log file grows larger than the size specified in the registry key, the log file is deleted.
Logging begins again in a new log file that uses the same file name and path.
The default maximum log size is 200 MB.
       </p>
      </li>
      <li>
       <p>
        Key: HKLM\Software\Microsoft\ServerMigration
       </p>
      </li>
      <li>
       <p>
        Value: MaxLogSize (REG_DWORD)
       </p>
      </li>
      <li>
       <p>
        Data: Whole numbers between 1 and 1000 (represents log size, in MB)
       </p>
       <p>
        The maximum connection time for the
        <strong>
         Send-SmigServerData
        </strong>
        and
        <strong>
         Receive-SmigServerData
        </strong>
        cmdlets is stored in the following registry key.
        <strong>
         Send-SmigServerData
        </strong>
        and
        <strong>
         Receive-SmigServerData
        </strong>
        operations stop if a connection cannot be established within the specified time.
The default maximum connection time is 300 seconds, or five minutes.
       </p>
      </li>
      <li>
       <p>
        Key: HKLM\Software\Microsoft\ServerMigration
       </p>
      </li>
      <li>
       <p>
        Value: MaxConnectionTime  (REG_DWORD)
       </p>
      </li>
      <li>
       <p>
        Data: Between 1 and 3600 (represents connection time, in seconds).
If a value larger than 3600 is specified, 3600 seconds is used as the maximum connection time.
       </p>
      </li>
     </ul>
     <h2 id="related-links">
      RELATED LINKS
     </h2>
     <p>
      <a data-linktype="relative-path" href="send-smigserverdata.html">
       Send-SmigServerData
      </a>
     </p>
     <!-- </content> -->
    </main>
    <section class="feedback-section" data-bi-name="feedback-section">
     <h2 id="feedback">
      Feedback
     </h2>
     <div class="alert choose-feedback-type">
      <p>
       We'd love to hear your thoughts. Choose the type you'd like to provide:
      </p>
      <div class="choose-feedback-buttons">
       <a class="button-border feedback-type-product" data-bi-name="product-feedback" href="https://windowsserver.uservoice.com/forums/301869-powershell">
        Product feedback
        <span aria-hidden="true" class="docon docon-navigate-external">
        </span>
       </a>
       <div class="button-group">
        <button class="button-border feedback-sign-in-button" data-bi-name="feedback-sign-in">
         <span aria-hidden="true" class="docon docon-brand-github">
         </span>
         Sign in to give documentation feedback
        </button>
        <button aria-controls="feedback-form" aria-expanded="false" class="button-border feedback-form-toggle" data-bi-name="documentation-feedback" hidden="">
         Content feedback
        </button>
        <div auto-align="" class="dropdown has-caret">
         <button aria-controls="fbm0" aria-expanded="false" aria-haspopup="true" aria-label="Expand documentation feedback menu" class="button-border dropdown-trigger" data-bi-name="documentation-feedback-menu">
          <span aria-hidden="true" class="docon docon-chevron-down-light">
          </span>
         </button>
         <div class="dropdown-menu documentation-feedback-menu" id="fbm0" role="menu">
          You may also leave feedback
          <a data-bi-name="create-issue-on-github" href="{0}">
           directly on GitHub
           <span aria-hidden="true" class="docon docon-navigate-external">
           </span>
          </a>
          .
         </div>
        </div>
       </div>
      </div>
      <p>
       <small>
        Our new feedback system is built on GitHub Issues. Read about this change in
        <a href="https://docs.microsoft.com/teamblog/a-new-feedback-system-is-coming-to-docs">
         our blog post
        </a>
        .
       </small>
      </p>
     </div>
     <form accept-charset="UTF-8" action="javascript:" autocomplete="off" class="feedback-form" hidden="" id="feedback-form">
      <h3 class="feedback-form-heading current-user">
       <img alt="Avatar" aria-hidden="true" class="avatar" height="36" width="36"/>
       <span aria-hidden="true" class="username">
       </span>
       <span class="visually-hidden">
        Liquid error: Can't find the localized string giveDocumentationFeedback for template Conceptual.
       </span>
      </h3>
      <label>
       <span class="visually-hidden">
        Title
       </span>
       <input name="title" pattern=".*\w.*" placeholder="Title" required="" type="text"/>
      </label>
      <label>
       <span class="visually-hidden">
        Leave a comment
       </span>
       <textarea name="body" placeholder="Leave a comment" required=""></textarea>
      </label>
      <div class="action-container">
       <button class="primary-action" name="submit" type="submit">
        Submit feedback
       </button>
      </div>
     </form>
     <div class="feedback-status alert busy" role="alert">
      <p>
       Loading feedback...
      </p>
     </div>
     <div class="feedback-tab-group tabGroup" data-tab-group-independent="" hidden="">
      <ul role="tablist">
       <li role="presentation">
        <a aria-controls="tabpanel-issues-open" aria-label="Open Issues" data-tab="issues-open" href="#tabpanel-issues-open" role="tab">
        </a>
       </li>
       <li role="presentation">
        <a aria-controls="tabpanel-issues-closed" aria-label="Closed Issues" data-tab="issues-closed" href="#tabpanel-issues-closed" role="tab">
        </a>
       </li>
      </ul>
      <section data-tab="issues-open" id="tabpanel-issues-open" role="tabpanel">
       <div class="no-issues-placeholder">
        There are no open issues
       </div>
       <ul aria-label="Open Issues" class="github-issues-list">
       </ul>
      </section>
      <section data-tab="issues-closed" id="tabpanel-issues-closed" role="tabpanel">
       <div class="no-issues-placeholder">
        There are no closed issues
       </div>
       <ul aria-label="Closed Issues" class="github-issues-list">
       </ul>
      </section>
     </div>
     <div class="action-container">
      <a class="view-on-github" data-bi-name="view-on-github" hidden="" href="https://github.com/MicrosoftDocs/windows-powershell-docs/issues">
       <span aria-hidden="true" class="docon docon-brand-github">
       </span>
       <span>
        View on GitHub
       </span>
       <span aria-hidden="true" class="docon docon-navigate-external">
       </span>
      </a>
     </div>
    </section>
   </div>
  </div>
  <div class="openfeedback-container" id="openFeedbackContainer">
  </div>
  <div class="action-panel">
  </div>
 </body>
</html>