<!DOCTYPE html>
<html class="no-js hasSidebar hasPageActions hasBreadcrumb conceptual" data-authenticated="false" data-render="docs" dir="ltr" lang="en-us">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <meta content="Export-SmigServerSetting" property="og:title"/>
  <meta content="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/microsoft-header.png" property="og:image"/>
  <meta content="summary" name="twitter:card"/>
  <meta content="@docsmsft" name="twitter:site"/>
  <meta content="Export-SmigServerSetting" name="twitter:title"/>
  <meta content="Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell." name="twitter:description"/>
  <meta content="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/microsoft-header.png" name="twitter:image"/>
  <meta content="Microsoft Logo" name="twitter:image:alt"/>
  <meta content="powershell" name="ms.devlang"/>
  <meta content="library" name="ms.sitesec"/>
  <meta content="INDEX, FOLLOW" name="ROBOTS"/>
  <meta content="brianlic-msft" name="author"/>
  <meta content="brianlic" name="ms.author"/>
  <meta content="alanth" name="manager"/>
  <meta content="/powershell/windows/bread/toc.json?view=win10-ps" name="breadcrumb_path"/>
  <meta content="powershell" name="apiPlatform"/>
  <meta content="powershell, cmdlet" name="keywords"/>
  <meta content="reference" name="ms.topic"/>
  <meta content="manage" name="ms.mktglfcycl"/>
  <meta content="2017-01-03" name="ms.date"/>
  <meta content="powershell-windows" name="ms.technology"/>
  <meta content="w10" name="ms.prod"/>
  <meta content="MSDocsHeader-WindowsIT" name="uhfHeaderId"/>
  <meta content="ACDA05AE-6AD0-4F38-8448-DDC2D7D3025F" name="ms.assetid"/>
  <meta content="Use this topic to help manage Windows and Windows Server technologies with Windows PowerShell." name="description"/>
  <meta content="2.0.0" name="schema"/>
  <meta content="Docs" name="search.ms_sitename"/>
  <meta content="powershell-windows" name="search.ms_docsetname"/>
  <meta content="0" name="version"/>
  <meta content="en-us" name="locale"/>
  <meta content="Docs" name="site_name"/>
  <meta content="MSDN" name="search.ms_product"/>
  <meta content="MSDN.powershell-windows" name="depot_name"/>
  <meta content="2017-09-21 10:56 PM" name="updated_at"/>
  <meta content="https://cpubwin.visualstudio.com/DefaultCollection/powershell/_git/powershell/commit/0a5ed820d23bc7d08f8acd6748e480a6144e78c3?path=%2fdocset%2fwindows%2fMicrosoft.Windows.ServerManager.Migration%2fexport-smigserversetting.md&amp;_a=contents" name="gitcommit"/>
  <meta content="https://cpubwin.visualstudio.com/DefaultCollection/powershell/_git/powershell?path=%2fdocset%2fwindows%2fMicrosoft.Windows.ServerManager.Migration%2fexport-smigserversetting.md&amp;version=GBlive&amp;_a=contents" name="original_content_git_url"/>
  <meta content="2238f1ee-6357-0019-c20b-a24bd277c440" name="document_id"/>
  <meta content="f49a7d06-ac13-6d53-273b-9dccbeca4cd3" name="document_version_independent_id"/>
  <meta content="conceptual" name="page_type"/>
  <meta content="../win10-ps/toc.json?view=win10-ps" name="toc_rel"/>
  <meta content="1361" name="word_count"/>
  <link href="https://docs.microsoft.com/en-us/powershell/module/microsoft.windows.servermanager.migration/export-smigserversetting" rel="canonical"/>
  <title>
   Export-SmigServerSetting | Microsoft Docs
  </title>
  <link href="../../../../_themes/docs.theme/master/en-us/_themes/css/e4a1f3a3.site.css" rel="stylesheet"/>
  <link href="../../../../_themes/docs.theme/master/en-us/_themes/css/31353636.conceptual.css" rel="stylesheet"/>
 </head>
 <body dir="ltr" lang="en-us">
  <div class="header-holder">
   <div data-bi-name="header" id="headerAreaHolder">
    <div id="uhf-placeholder">
    </div>
   </div>
   <div class="disclaimer-holder" id="disclaimer-holder">
   </div>
  </div>
  <div class="container mainContainer" data-bi-name="body">
   <div class="content-header" data-bi-name="content-header">
    <div class="content-header-controls">
     <button class="contents-button button-border" data-bi-name="contents-expand" type="button">
      <span class="docon docon-menu">
      </span>
      Contents
     </button>
    </div>
    <div class="content-header-controls">
     <button class="ap-collapse-behavior ap-expanded button-border" data-bi-name="ap-collapse" type="button">
      <span class="docon docon-exit-mode">
      </span>
      Exit focus mode
     </button>
    </div>
   </div>
   <div class="primary-holder">
    <main class="content" data-bi-name="content" dir="ltr" id="main" lang="en-us" role="main">
     <h1 id="export-smigserversetting" sourceendlinenumber="20" sourcefile="windows/Microsoft.Windows.ServerManager.Migration/export-smigserversetting.md" sourcestartlinenumber="20">
      Export-SmigServerSetting
     </h1>
     <ul class="metadata page-metadata" data-bi-name="page info" dir="ltr" lang="en-us">
      <li class="readingTime">
       <span aria-hidden="true" class="docon docon-clock">
       </span>
       6 minutes to read
      </li>
      <li class="contributors-holder">
       <span class="contributors-text">
        Contributors
       </span>
       <ul class="contributors" data-bi-name="contributors">
        <li>
         <a data-bi-name="contributorprofile" href="https://github.com/brianlic-msft" title="Brian Lich">
          <img alt="Brian Lich" data-src="https://github.com/brianlic-msft.png?size=32" src="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/contributor.svg"/>
         </a>
        </li>
        <li>
         <a data-bi-name="contributorprofile" href="https://github.com/TaraMeyer" title="TaraMeyer">
          <img alt="TaraMeyer" data-src="https://github.com/TaraMeyer.png?size=32" src="https://docs.microsoft.com/_themes/docs.theme/master/en-us/_themes/images/contributor.svg"/>
         </a>
        </li>
       </ul>
      </li>
     </ul>
     <!-- <content> -->
     <h2 id="synopsis">
      SYNOPSIS
     </h2>
     <p>
      Exports selected Windows features and operating system settings from the local computer, and stores them in a migration store.
     </p>
     <h2 id="syntax">
      SYNTAX
     </h2>
     <pre><code>Export-SmigServerSetting [-FeatureId &lt;String[]&gt;] [-Feature &lt;Feature[]&gt;] [-User &lt;String&gt;] [-Group] [-IPConfig]
 -Path &lt;String&gt; -Password &lt;SecureString&gt; [&lt;CommonParameters&gt;]
</code></pre>
     <h2 id="description">
      DESCRIPTION
     </h2>
     <p>
      The
      <strong>
       Export-SmigServerSetting
      </strong>
      cmdlet exports selected Windows features and operating system settings from the local computer, and stores them in a migration store specified in the
      <em>
       Path
      </em>
      parameter.
Use the Import-SmigServerSetting cmdlet to import Windows features and operating system settings to the destination computer from the migration store populated by the Export-SmigServerSetting command.
     </p>
     <p>
      For online Help about the Windows Server Migration Tools cmdlets, see
      <a data-linktype="external" href="http://go.microsoft.com/fwlink/?LinkId=246313">
       Server Migration Cmdlets in Windows PowerShell
      </a>
      at
      <a data-linktype="external" href="http://go.microsoft.com/fwlink/?LinkId=246313">
       http://go.microsoft.com/fwlink/?LinkId=246313
      </a>
      .
     </p>
     <h2 id="examples">
      EXAMPLES
     </h2>
     <h3 id="example-1-export-the-dhcp-server">
      Example 1: Export the DHCP server
     </h3>
     <pre><code>PS C:\&gt; Export-SmigServerSetting -Feature "DHCP" -User All -Group -Path "c:\temp\store" -Verbose
</code></pre>
     <p>
      This sample command exports the Dynamic Host Configuration Protocol (DHCP) server and all other Windows Server features that are required by the DHCP server.
The command also exports local user accounts, local groups, and group memberships to the location c:\temp\store that is specified in the
      <em>
       Path
      </em>
      parameter.
     </p>
     <p>
      Creating a password to encrypt the migration store is required.
Because a password is not provided in this sample command, after you enter the command, the user is prompted to enter a password for encrypting the migrated data.
Password characters are displayed as asterisks (*).
When the password is entered, the value is passed to the command as a SecureString.
     </p>
     <p>
      By using the
      <em>
       Verbose
      </em>
      parameter, the command also displays detailed information about the migration operation.
     </p>
     <h3 id="example-2-export-ip-configuration-settings">
      Example 2: Export IP configuration settings
     </h3>
     <pre><code>PS C:\&gt; Export-SmigServerSetting -IPConfig -Path "c:\temp\store" -Password (Read-Host "Create a Password:" -AsSecureString) -Verbose
</code></pre>
     <p>
      This sample command exports basic IP configuration settings, and stores the data in the migration store specified by the
      <em>
       Path
      </em>
      parameter as c:\temp\store.
The sample command also instructs the migration utilities to display the text string "Create a Password:" to prompt the user to create a password for encrypting the migration store.
Password characters are displayed as asterisks (
      <em>
       ).
When the new password has been entered, the value is stored by **Export-SmigServerSetting
      </em>
      * as a SecureString.
     </p>
     <p>
      By using the
      <em>
       Verbose
      </em>
      parameter, the command also displays detailed information about the migration operation.
     </p>
     <h3 id="example-3-export-windows-server-features">
      Example 3: Export Windows Server features
     </h3>
     <pre><code>PS C:\&gt; $c = Get-SmigServerFeature
PS C:\&gt; Export-SmigServerSetting -Feature $c -Path "c:\temp\store" -Verbose
</code></pre>
     <p>
      This sample command exports a set of Windows features that have already been specified by using the Get-SmigServerFeature cmdlet.
In the sample, the migration utilities are instructed to use a variable, $c, to represent the features specified by using the
      <strong>
       Get-SmigServerFeature
      </strong>
      cmdlet.
     </p>
     <p>
      The first command retrieves Windows feature objects specified by using the
      <strong>
       Get-SmigServerFeature
      </strong>
      cmdlet, and saves them in the $c variable.
The second command exports the Windows features represented by the $c variable, and stores the data in the location that is specified in the
      <em>
       Path
      </em>
      parameter, c:\temp\store.
     </p>
     <p>
      Creating a password to encrypt the migration store is required.
Because a password is not provided in this sample command, after entering the command, the user is prompted to enter a password for encrypting the migrated data.
Password characters are displayed as asterisks (*).
When the password is entered, the value is passed to the command as a SecureString.
     </p>
     <p>
      By using the
      <em>
       Verbose
      </em>
      parameter, the command also displays detailed information about the migration operation.
     </p>
     <h3 id="example-4-export-user-accounts">
      Example 4: Export user accounts
     </h3>
     <pre><code>PS C:\&gt; $pass = ConvertTo-SecureString -String "password" -AsPlainText -Force
PS C:\&gt; Export-SmigServerSetting -User All -Password $pass -Path "c:\store" -Verbose
</code></pre>
     <p>
      In this example, the first command instructs the migration utilities to convert the store encryption password, represented by "password," to a secure string, and store it in the variable $pass.
The second command exports all local user accounts, sets the value of the variable $pass as the password to encrypt the migration store, and stores the migration data in the location c:\temp\store.
     </p>
     <p>
      By using the
      <em>
       Verbose
      </em>
      parameter, the command also displays detailed information about the migration operation.
     </p>
     <h2 id="parameters">
      PARAMETERS
     </h2>
     <h3 id="-feature">
      -Feature
     </h3>
     <p>
      Specifies the Windows features to be exported from the source computer.
Not all Windows features can be migrated by using migration cmdlets.
You can use the Get-SmigServerFeature cmdlet to retrieve a list of Windows features that can be migrated from the local server, and pass the resulting list to the
      <strong>
       Export-SmigServerSetting
      </strong>
      cmdlet, either by piping the results to the cmdlet, or by storing the results in a variable and then using the variable to represent the results in your command.
     </p>
     <pre><code class="lang-yaml">Type: Feature[]
Parameter Sets: (All)
Aliases: F

Required: False
Position: Named
Default value: None
Accept pipeline input: True (ByValue)
Accept wildcard characters: False
</code></pre>
     <h3 id="-featureid">
      -FeatureId
     </h3>
     <p>
      Specifies the IDs of the Windows features to be exported from the source computer.
Not all Windows features are supported for migration.
You can use the
      <strong>
       Get-SmigServerFeature
      </strong>
      cmdlet to retrieve a list of Windows features, along with their feature IDs, that can be migrated from the local server.
Separate multiple feature IDs by using commas.
Standard PowerShell wildcard characters are supported.
     </p>
     <pre><code class="lang-yaml">Type: String[]
Parameter Sets: (All)
Aliases: ID

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="-group">
      -Group
     </h3>
     <p>
      Exports the source server's local groups.
     </p>
     <pre><code class="lang-yaml">Type: SwitchParameter
Parameter Sets: (All)
Aliases: 

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="-ipconfig">
      -IPConfig
     </h3>
     <p>
      Exports the source server's basic IP configuration settings, including network interface card (NIC) settings such as connection-specific suffix, IPv4 settings, registry key to disable IPv6 components, and global Windows IP configuration settings.
IP configuration for a NIC can only be exported if the NIC is enabled and connected to the network.
See IP Configuration Migration Guide for more information.
     </p>
     <pre><code class="lang-yaml">Type: SwitchParameter
Parameter Sets: (All)
Aliases: 

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="-password">
      -Password
     </h3>
     <p>
      Specifies the migration store encryption password as a secure string.
The secure string can be obtained by entering the command
      <code>
       Read-Host -AsSecureString
      </code>
      or
      <code>
       Convertto-Securestring
      </code>
      .
Because the
      <em>
       Password
      </em>
      parameter is required, if it is not added to your command, you are prompted to create a password after entering your command.
The password length must be a minimum of six characters and a maximum of 260 characters.
     </p>
     <pre><code class="lang-yaml">Type: SecureString
Parameter Sets: (All)
Aliases: 

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="-path">
      -Path
     </h3>
     <p>
      Specifies the path to store the exported migration data.
The specified migration store location must be empty.
The path must be a valid local or Universal Naming Convention (UNC) path; if it is a share on a remote computer, the share must be notated as a drive letter on the local computer.
The path length cannot be longer than 246 characters.
Wildcard characters are not supported.
     </p>
     <pre><code class="lang-yaml">Type: String
Parameter Sets: (All)
Aliases: 

Required: True
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="-user">
      -User
     </h3>
     <p>
      Specifies the type of user accounts to export to the migration store.
The following are acceptable values for this parameter:
     </p>
     <ul>
      <li>
       <p>
        Enabled
       </p>
      </li>
      <li>
       <p>
        Disabled
       </p>
      </li>
      <li>
       <p>
        All
       </p>
      </li>
     </ul>
     <p>
      User passwords are not migrated.
Users must create a password the first time they log on to the server.
Only the "User Name" and "Account is Disabled" properties are migrated.
     </p>
     <pre><code class="lang-yaml">Type: String
Parameter Sets: (All)
Aliases: 

Required: False
Position: Named
Default value: None
Accept pipeline input: False
Accept wildcard characters: False
</code></pre>
     <h3 id="commonparameters">
      CommonParameters
     </h3>
     <p>
      This cmdlet supports the common parameters: -Debug, -ErrorAction, -ErrorVariable, -InformationAction, -InformationVariable, -OutVariable, -OutBuffer, -PipelineVariable, -Verbose, -WarningAction, and -WarningVariable. For more information, see
      <a data-linktype="external" href="http://go.microsoft.com/fwlink/?LinkID=113216">
       about_CommonParameters
      </a>
      .
     </p>
     <h2 id="inputs">
      INPUTS
     </h2>
     <h2 id="outputs">
      OUTPUTS
     </h2>
     <h3 id="microsoftwindowsservermanagermigrationmigrationresult">
      Microsoft.Windows.ServerManager.Migration.MigrationResult
     </h3>
     <h2 id="notes">
      NOTES
     </h2>
     <ul>
      <li>
       <p>
        The Windows Server Migration Tools deployment log file is located in %windir%\Logs\SmigDeploy.log. Other Windows Server Migration Tools log files are created at the following locations:
       </p>
      </li>
      <li>
       <p>
        %windir%\Logs\ServerMigration.log
       </p>
      </li>
      <li>
       <p>
        On Windows Server 2008 and later versions: %localappdata%\SvrMig\Log
       </p>
      </li>
      <li>
       <p>
        On Windows Server 2003: %userprofile%\Local Settings\Application Data\SvrMig\Log
       </p>
       <p>
        If the log files cannot be created at these locations, ServerMigration.log and SmigDeploy.log will be created at %temp%, and other logs will be created at %windir%\System32.
       </p>
       <p>
        The maximum size of all log files (in MB) is stored in the following registry key.
When the log file grows larger than the size specified in the registry key, the log file is deleted.
Logging begins again in a new log file that uses the same file name and path.
The default maximum log size is 200 MB.
       </p>
      </li>
      <li>
       <p>
        Key: HKLM\Software\Microsoft\ServerMigration
       </p>
      </li>
      <li>
       <p>
        Value: MaxLogSize (REG_DWORD)
       </p>
      </li>
      <li>
       <p>
        Data: Whole numbers between 1 and 1000 (represents log size, in MB)
       </p>
      </li>
     </ul>
     <h2 id="related-links">
      RELATED LINKS
     </h2>
     <p>
      <a data-linktype="relative-path" href="import-smigserversetting.html">
       Import-SmigServerSetting
      </a>
     </p>
     <!-- </content> -->
    </main>
    <section class="feedback-section" data-bi-name="feedback-section">
     <h2 id="feedback">
      Feedback
     </h2>
     <div class="alert choose-feedback-type">
      <p>
       We'd love to hear your thoughts. Choose the type you'd like to provide:
      </p>
      <div class="choose-feedback-buttons">
       <a class="button-border feedback-type-product" data-bi-name="product-feedback" href="https://windowsserver.uservoice.com/forums/301869-powershell">
        Product feedback
        <span aria-hidden="true" class="docon docon-navigate-external">
        </span>
       </a>
       <div class="button-group">
        <button class="button-border feedback-sign-in-button" data-bi-name="feedback-sign-in">
         <span aria-hidden="true" class="docon docon-brand-github">
         </span>
         Sign in to give documentation feedback
        </button>
        <button aria-controls="feedback-form" aria-expanded="false" class="button-border feedback-form-toggle" data-bi-name="documentation-feedback" hidden="">
         Content feedback
        </button>
        <div auto-align="" class="dropdown has-caret">
         <button aria-controls="fbm0" aria-expanded="false" aria-haspopup="true" aria-label="Expand documentation feedback menu" class="button-border dropdown-trigger" data-bi-name="documentation-feedback-menu">
          <span aria-hidden="true" class="docon docon-chevron-down-light">
          </span>
         </button>
         <div class="dropdown-menu documentation-feedback-menu" id="fbm0" role="menu">
          You may also leave feedback
          <a data-bi-name="create-issue-on-github" href="{0}">
           directly on GitHub
           <span aria-hidden="true" class="docon docon-navigate-external">
           </span>
          </a>
          .
         </div>
        </div>
       </div>
      </div>
      <p>
       <small>
        Our new feedback system is built on GitHub Issues. Read about this change in
        <a href="https://docs.microsoft.com/teamblog/a-new-feedback-system-is-coming-to-docs">
         our blog post
        </a>
        .
       </small>
      </p>
     </div>
     <form accept-charset="UTF-8" action="javascript:" autocomplete="off" class="feedback-form" hidden="" id="feedback-form">
      <h3 class="feedback-form-heading current-user">
       <img alt="Avatar" aria-hidden="true" class="avatar" height="36" width="36"/>
       <span aria-hidden="true" class="username">
       </span>
       <span class="visually-hidden">
        Liquid error: Can't find the localized string giveDocumentationFeedback for template Conceptual.
       </span>
      </h3>
      <label>
       <span class="visually-hidden">
        Title
       </span>
       <input name="title" pattern=".*\w.*" placeholder="Title" required="" type="text"/>
      </label>
      <label>
       <span class="visually-hidden">
        Leave a comment
       </span>
       <textarea name="body" placeholder="Leave a comment" required=""></textarea>
      </label>
      <div class="action-container">
       <button class="primary-action" name="submit" type="submit">
        Submit feedback
       </button>
      </div>
     </form>
     <div class="feedback-status alert busy" role="alert">
      <p>
       Loading feedback...
      </p>
     </div>
     <div class="feedback-tab-group tabGroup" data-tab-group-independent="" hidden="">
      <ul role="tablist">
       <li role="presentation">
        <a aria-controls="tabpanel-issues-open" aria-label="Open Issues" data-tab="issues-open" href="#tabpanel-issues-open" role="tab">
        </a>
       </li>
       <li role="presentation">
        <a aria-controls="tabpanel-issues-closed" aria-label="Closed Issues" data-tab="issues-closed" href="#tabpanel-issues-closed" role="tab">
        </a>
       </li>
      </ul>
      <section data-tab="issues-open" id="tabpanel-issues-open" role="tabpanel">
       <div class="no-issues-placeholder">
        There are no open issues
       </div>
       <ul aria-label="Open Issues" class="github-issues-list">
       </ul>
      </section>
      <section data-tab="issues-closed" id="tabpanel-issues-closed" role="tabpanel">
       <div class="no-issues-placeholder">
        There are no closed issues
       </div>
       <ul aria-label="Closed Issues" class="github-issues-list">
       </ul>
      </section>
     </div>
     <div class="action-container">
      <a class="view-on-github" data-bi-name="view-on-github" hidden="" href="https://github.com/MicrosoftDocs/windows-powershell-docs/issues">
       <span aria-hidden="true" class="docon docon-brand-github">
       </span>
       <span>
        View on GitHub
       </span>
       <span aria-hidden="true" class="docon docon-navigate-external">
       </span>
      </a>
     </div>
    </section>
   </div>
  </div>
  <div class="openfeedback-container" id="openFeedbackContainer">
  </div>
  <div class="action-panel">
  </div>
 </body>
</html>