<html><!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 May 2019 23:20:33 GMT --><!-- Added by HTTrack --><head><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->

  <meta charset="utf-8">

  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script async="" src="../../../../../../www.google-analytics.com/analytics.js"></script><script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
  <title>Using DTMF with WebRTC</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">

  
<link rel="preload" href="../../../../../static/fonts/locales/ZillaSlab-Regular.subset.bbc33fb47cf6.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="home" href="https://developer.mozilla.org/en-US/">
    <link rel="license" href="#license">
  

  
    
    

    <link href="../../../../../static/build/styles/mdn.8634e046f072.css" rel="stylesheet" type="text/css">

    
  
    <link href="../../../../../static/build/styles/wiki.d451415ae2dd.css" rel="stylesheet" type="text/css">


    

  <link href="../../../../../static/build/styles/locale-en-US.520ecdcaef8c.css" rel="stylesheet" type="text/css">

  
    
  

  
    <script>
    // util for setting performance marks and mesaures
    var mdn=window.mdn||{};mdn.perf={getDuration:function(e){"use strict";if(void 0!==performance.getEntriesByName)return performance.getEntriesByName(e)[0].duration;console.error("performance.getEntriesByName is not supported by your user-agent")},setMark:function(e){"use strict";if(void 0!==performance.mark)try{performance.mark(e)}catch(e){console.error("Error while setting performance mark: ",e)}else console.error("performance.mark is not supported by your user-agent")},setMeasure:function(e){"use strict";void 0!==performance.measure?performance.measure(e.measureName,e.startMark,e.endMark):console.error("performance.measure is not supported by your user-agent")}};
    /* util specifically for postMessages sent from the
       `head` of the interactive examples iframe */
    function handlePerfMarks(e){e.measureName?(window.mdn.perf.setMark(e.markName),window.mdn.perf.setMeasure({measureName:e.measureName,startMark:e.startMark,endMark:e.endMark}),ga&&ga.create&&ga("send",{hitType:"timing",timingCategory:"RUM - Interactive Examples",timingVar:e.measureName,timingValue:window.mdn.perf.getDuration(e.measureName)||0})):window.mdn.perf.setMark(e.markName)}function perfMsgHandler(e){"use strict";var a=window.mdn.interactiveEditor.editorUrl||"https://interactive-examples.mdn.mozilla.net",r=e.data;if(e.origin!==a)return!1;r.markName&&-1<r.markName.indexOf("interactive-editor-")&&handlePerfMarks(r)}window.addEventListener("message",perfMsgHandler,!1);
</script>

    <!-- common social tags -->
    
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png">
    <meta property="og:site_name" content="MDN Web Docs">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:image" content="https://developer.mozilla.org/static/img/opengraph-logo.72382e605ce3.png">
    <meta name="twitter:site" content="@MozDevNet">
    <meta name="twitter:creator" content="@MozDevNet">
    <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="MDN Web Docs">
    
  
  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../static/img/favicon144.e7e21ca263ca.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../static/img/favicon114.d526f38b09c5.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../static/img/favicon72.cc65d1d762a0.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../static/img/favicon57.de33179910ae.png">
  <!-- basic favicon -->
  <link rel="shortcut icon" href="../../../../../static/img/favicon32.7f3da72dcea1.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script async="" type="text/javascript" src=".html5shiv.ae1ac46eaf58.js" charset="utf-8"></script>
  <![endif]-->

  
  <link rel="dns-prefetch" href="../../../../../../interactive-examples.mdn.mozilla.net/index.html" pr="0.75">
  <link rel="preconnect" href="../../../../../../interactive-examples.mdn.mozilla.net/index.html" pr="0.75">

  <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF$json">
  <link rel="canonical" href="Using_DTMF.html">

  
  <link rel="alternate" hreflang="en" href="Using_DTMF.html" title="Using DTMF with WebRTC">
  

  <!-- document-specific social tags -->
  <meta property="og:title" content="Using DTMF with WebRTC">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF">
  <meta name="twitter:title" content="Using DTMF with WebRTC">
  
  <meta property="og:description" content="In order to more fully support audio/video conferencing, WebRTC supports sending DTMF to the remote peer on an RTCPeerConnection. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an RTCPeerConnection. The DTMF system is often referred to as &quot;touch tone,&quot; after an old trade name for the system.">
  <meta name="description" content="In order to more fully support audio/video conferencing, WebRTC supports sending DTMF to the remote peer on an RTCPeerConnection. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an RTCPeerConnection. The DTMF system is often referred to as &quot;touch tone,&quot; after an old trade name for the system.">
  <meta name="twitter:description" content="In order to more fully support audio/video conferencing, WebRTC supports sending DTMF to the remote peer on an RTCPeerConnection. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an RTCPeerConnection. The DTMF system is often referred to as &quot;touch tone,&quot; after an old trade name for the system.">
  

</head>
<body data-slug="Web/API/WebRTC_API/Using_DTMF" contextmenu="edit-history-menu" data-search-url="" class="document">

  <script>
    // make sure global mdn object exists
    var mdn = window.mdn || {};

    (function(win) {
        'use strict';

        (function(){
  var FLAGS = {
    'kumaediting': false,'page_move': false,'section_edit': false,'spam_checks_enabled': true,'spam_submissions_enabled': false,'spam_admin_override': false,'spam_spammer_override': false,'spam_testing_mode': false,'sg_task_completion': false,'contrib_beta': false,'recurring_payment_beta': false
    },
    SWITCHES = {
    'welcome_email': true,'application_ACAO': true,'store_revision_ips': true,'foundation_callout': false,'helpful-survey-2': true,'wiki_spam_training': true,'registration_disabled': false
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        // This needs to be set before ckeditor.js loads
        window.CKEDITOR_BASEPATH = 'https://developer.mozilla.org/static/js/libs/ckeditor4/build/ckeditor/';

        // Site configuration
        win.mdn.ckeditor = {};
        win.mdn.features = {};
        win.mdn.siteUrl = 'https://developer.mozilla.org/';
        win.mdn.wikiSiteUrl = 'https://wiki.developer.mozilla.org/';
        win.mdn.staticPath = 'https://developer.mozilla.org/static/';
        win.mdn.wiki = {
            autosuggestTitleUrl: '/en-US/docs/get-documents'
        };
        win.mdn.assets_disabled = {
            css: {
                'editor-content': ['https://developer.mozilla.org/static/build/styles/editor-content.c9f73a799d9a.css','../../../../../static/build/styles/editor-locale-en-US.520ecdcaef8c.css',
                ],

                'wiki-compat-tables': ['https://developer.mozilla.org/static/build/styles/wiki-compat-tables.eef64bf9b6fe.css',]
            },
            js: {
                'syntax-prism': ['https://developer.mozilla.org/static/build/js/syntax-prism.f016806edde4.js',],
                'wiki-compat-tables': ['https://developer.mozilla.org/static/build/js/syntax-prism.js" charset="utf-8"></script><script type="text/javascript" src=".html5shiv.ae1ac46eaf58.js" charset="utf-8"></script>
  <!--[endif]---->

  
  <link rel="dns-prefetch" href="../../../../../../interactive-examples.mdn.mozilla.net/index.html" pr="0.75">
  <link rel="preconnect" href="../../../../../../interactive-examples.mdn.mozilla.net/index.html" pr="0.75">

  <link rel="alternate" type="application/json" href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF$json">
  <link rel="canonical" href="Using_DTMF.html">

  
  <link rel="alternate" hreflang="en" href="Using_DTMF.html" title="Using DTMF with WebRTC">
  

  <!-- document-specific social tags -->
  <meta property="og:title" content="Using DTMF with WebRTC">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF">
  <meta name="twitter:title" content="Using DTMF with WebRTC">
  
  <meta property="og:description" content="In order to more fully support audio/video conferencing, WebRTC supports sending DTMF to the remote peer on an RTCPeerConnection. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an RTCPeerConnection. The DTMF system is often referred to as &quot;touch tone,&quot; after an old trade name for the system.">
  <meta name="description" content="In order to more fully support audio/video conferencing, WebRTC supports sending DTMF to the remote peer on an RTCPeerConnection. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an RTCPeerConnection. The DTMF system is often referred to as &quot;touch tone,&quot; after an old trade name for the system.">
  <meta name="twitter:description" content="In order to more fully support audio/video conferencing, WebRTC supports sending DTMF to the remote peer on an RTCPeerConnection. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an RTCPeerConnection. The DTMF system is often referred to as &quot;touch tone,&quot; after an old trade name for the system.">
  




  <script>
    // make sure global mdn object exists
    var mdn = window.mdn || {};

    (function(win) {
        'use strict';

        (function(){
  var FLAGS = {
    'kumaediting': false,'page_move': false,'section_edit': false,'spam_checks_enabled': true,'spam_submissions_enabled': false,'spam_admin_override': false,'spam_spammer_override': false,'spam_testing_mode': false,'sg_task_completion': false,'contrib_beta': false,'recurring_payment_beta': false
    },
    SWITCHES = {
    'welcome_email': true,'application_ACAO': true,'store_revision_ips': true,'foundation_callout': false,'helpful-survey-2': true,'wiki_spam_training': true,'registration_disabled': false
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

        // This needs to be set before ckeditor.js loads
        window.CKEDITOR_BASEPATH = 'https://developer.mozilla.org/static/js/libs/ckeditor4/build/ckeditor/';

        // Site configuration
        win.mdn.ckeditor = {};
        win.mdn.features = {};
        win.mdn.siteUrl = 'https://developer.mozilla.org/';
        win.mdn.wikiSiteUrl = 'https://wiki.developer.mozilla.org/';
        win.mdn.staticPath = 'https://developer.mozilla.org/static/';
        win.mdn.wiki = {
            autosuggestTitleUrl: '/en-US/docs/get-documents'
        };
        win.mdn.assets_disabled = {
            css: {
                'editor-content': ['https://developer.mozilla.org/static/build/styles/editor-content.c9f73a799d9a.css','../../../../../static/build/styles/editor-locale-en-US.520ecdcaef8c.css',
                ],

                'wiki-compat-tables': ['https://developer.mozilla.org/static/build/styles/wiki-compat-tables.eef64bf9b6fe.css',]
            },
            js: {
                'syntax-prism': ['https://developer.mozilla.org/static/build/js/syntax-prism.f016806edde4.js',],
                'wiki-compat-tables': ['https://developer.mozilla.org/static/build/js/wiki-compat-tables.3a4ab2cc8ca1.js',]
            }
        };

        win.mdn.notifications = [];
        win.mdn.contributions = {
            enabled: true,
            popup: false
        };

        

        // interactive editor config
        win.mdn.interactiveEditor = {
            siteUrl: "https://developer.mozilla.org",
            editorUrl: "https://interactive-examples.mdn.mozilla.net"
        };
        win.mdn.langCookieName = "django_language";

    })(this);
</script>
    
    <ul id="nav-access">
  <li><a href="#content" id="skip-main">Skip to main content</a></li>
  <li><a id="skip-language" href="#language">Select language</a></li>
  <li><a href="#q" id="skip-search">Skip to search</a></li>
</ul>

    <!-- Header -->
    <header id="main-header" class="header-main">
      <a href="https://developer.mozilla.org/en-US/" class="logo">MDN Web Docs</a>
      <div class="nav-toolbox-wrapper">
        <nav id="main-nav" class="nav-main" role="navigation">
    <ul>
        <li class="nav-main-item">
            <a href="https://developer.mozilla.org/en-US/docs/Web">Technologies
                <svg class="icon icon-caret-down" xmlns="http://www.w3.org/2000/svg" width="16" height="28" viewBox="0 0 16 28"><path d="M16 11a.99.99 0 0 1-.297.703l-7 7C8.516 18.89 8.265 19 8 19s-.516-.109-.703-.297l-7-7A.996.996 0 0 1 0 11c0-.547.453-1 1-1h14c.547 0 1 .453 1 1z"></path></svg>
            </a>
            <div class="submenu js-submenu" id="nav-tech-submenu">
                <div class="submenu-column">
                  <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP">HTTP</a></li>
                    <li><a href="../../API.html">APIs / DOM</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions">Browser Extensions</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
                  </ul>
                </div>
            </div>
        </li>
        <li class="nav-main-item">
            <a href="https://developer.mozilla.org/en-US/docs/Learn">References &amp; Guides
                <svg class="icon icon-caret-down" xmlns="http://www.w3.org/2000/svg" width="16" height="28" viewBox="0 0 16 28"><path d="M16 11a.99.99 0 0 1-.297.703l-7 7C8.516 18.89 8.265 19 8 19s-.516-.109-.703-.297l-7-7A.996.996 0 0 1 0 11c0-.547.453-1 1-1h14c.547 0 1 .453 1 1z"></path></svg>
            </a>
            <div class="submenu js-submenu" id="nav-learn-submenu">
                <div class="submenu-column">
                  <ul>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Learn">Learn web development</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Games">Game development</a></li>
                    <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
                  </ul>
                </div>
            </div>
        </li>
        <li class="nav-main-item">
            <a href="https://developer.mozilla.org/en-US/docs/MDN/Feedback">Feedback
                <svg class="icon icon-caret-down" xmlns="http://www.w3.org/2000/svg" width="16" height="28" viewBox="0 0 16 28"><path d="M16 11a.99.99 0 0 1-.297.703l-7 7C8.516 18.89 8.265 19 8 19s-.516-.109-.703-.297l-7-7A.996.996 0 0 1 0 11c0-.547.453-1 1-1h14c.547 0 1 .453 1 1z"></path></svg>
            </a>
            <div class="submenu js-submenu" id="nav-contact-submenu">
              <div class="submenu-column">
                <ul>
                  <li>
                      <a href="https://support.mozilla.org/">Get Firefox help
                          <svg class="icon icon-external-link" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" aria-hidden="true"><path d="M22 14.5v5c0 2.484-2.016 4.5-4.5 4.5h-13A4.502 4.502 0 0 1 0 19.5v-13C0 4.016 2.016 2 4.5 2h11c.281 0 .5.219.5.5v1c0 .281-.219.5-.5.5h-11A2.507 2.507 0 0 0 2 6.5v13C2 20.875 3.125 22 4.5 22h13c1.375 0 2.5-1.125 2.5-2.5v-5c0-.281.219-.5.5-.5h1c.281 0 .5.219.5.5zM28 1v8c0 .547-.453 1-1 1a.99.99 0 0 1-.703-.297l-2.75-2.75L13.36 17.14c-.094.094-.234.156-.359.156s-.266-.063-.359-.156l-1.781-1.781c-.094-.094-.156-.234-.156-.359s.063-.266.156-.359L21.048 4.454l-2.75-2.75a.996.996 0 0 1-.297-.703c0-.547.453-1 1-1h8c.547 0 1 .453 1 1z"></path></svg>
                      </a>
                  </li>
                  <li>
                      <a href="https://stackoverflow.com/">Get web development help
                          <svg class="icon icon-external-link" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" aria-hidden="true"><path d="M22 14.5v5c0 2.484-2.016 4.5-4.5 4.5h-13A4.502 4.502 0 0 1 0 19.5v-13C0 4.016 2.016 2 4.5 2h11c.281 0 .5.219.5.5v1c0 .281-.219.5-.5.5h-11A2.507 2.507 0 0 0 2 6.5v13C2 20.875 3.125 22 4.5 22h13c1.375 0 2.5-1.125 2.5-2.5v-5c0-.281.219-.5.5-.5h1c.281 0 .5.219.5.5zM28 1v8c0 .547-.453 1-1 1a.99.99 0 0 1-.703-.297l-2.75-2.75L13.36 17.14c-.094.094-.234.156-.359.156s-.266-.063-.359-.156l-1.781-1.781c-.094-.094-.156-.234-.156-.359s.063-.266.156-.359L21.048 4.454l-2.75-2.75a.996.996 0 0 1-.297-.703c0-.547.453-1 1-1h8c.547 0 1 .453 1 1z"></path></svg>
                      </a>
                  </li>
                </ul>
                <ul>
                  <li>
                      <a href="https://developer.mozilla.org/en-US/docs/MDN/Community">Join the MDN community</a>
                  </li>
                  <li>
                      <a target="_blank" rel="noopener" href="https://github.com/mdn/sprints/issues/new?template=issue-template.md&amp;projects=mdn/sprints/2&amp;labels=user-report&amp;title=https%3A//developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF">Report a content problem
                          <svg class="icon icon-external-link" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" aria-hidden="true"><path d="M22 14.5v5c0 2.484-2.016 4.5-4.5 4.5h-13A4.502 4.502 0 0 1 0 19.5v-13C0 4.016 2.016 2 4.5 2h11c.281 0 .5.219.5.5v1c0 .281-.219.5-.5.5h-11A2.507 2.507 0 0 0 2 6.5v13C2 20.875 3.125 22 4.5 22h13c1.375 0 2.5-1.125 2.5-2.5v-5c0-.281.219-.5.5-.5h1c.281 0 .5.219.5.5zM28 1v8c0 .547-.453 1-1 1a.99.99 0 0 1-.703-.297l-2.75-2.75L13.36 17.14c-.094.094-.234.156-.359.156s-.266-.063-.359-.156l-1.781-1.781c-.094-.094-.156-.234-.156-.359s.063-.266.156-.359L21.048 4.454l-2.75-2.75a.996.996 0 0 1-.297-.703c0-.547.453-1 1-1h8c.547 0 1 .453 1 1z"></path></svg>
                      </a>
                  </li>
                  <li>
                      <a target="_blank" rel="noopener" href="https://bugzilla.mozilla.org/form.mdn">Report a bug
                          <svg class="icon icon-external-link" xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28" aria-hidden="true"><path d="M22 14.5v5c0 2.484-2.016 4.5-4.5 4.5h-13A4.502 4.502 0 0 1 0 19.5v-13C0 4.016 2.016 2 4.5 2h11c.281 0 .5.219.5.5v1c0 .281-.219.5-.5.5h-11A2.507 2.507 0 0 0 2 6.5v13C2 20.875 3.125 22 4.5 22h13c1.375 0 2.5-1.125 2.5-2.5v-5c0-.281.219-.5.5-.5h1c.281 0 .5.219.5.5zM28 1v8c0 .547-.453 1-1 1a.99.99 0 0 1-.703-.297l-2.75-2.75L13.36 17.14c-.094.094-.234.156-.359.156s-.266-.063-.359-.156l-1.781-1.781c-.094-.094-.156-.234-.156-.359s.063-.266.156-.359L21.048 4.454l-2.75-2.75a.996.996 0 0 1-.297-.703c0-.547.453-1 1-1h8c.547 0 1 .453 1 1z"></path></svg>
                      </a>
                  </li>
                </ul>
              </div>
          </div>
      </li>
  </ul>
</nav>
        <div id="toolbox" class="toolbox">
  <ul>
    
    <li class="nav-login"><div class="login">
    
        
        <a href="https://developer.mozilla.org/users/github/login/?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FWebRTC_API%2FUsing_DTMF" class="login-link js-login-link" data-service="GitHub" rel="nofollow">
            Sign in<svg class="icon icon-github" xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28" aria-label="GitHub" role="img" focusable="false">
    <title>Github</title>
    <path d="M12 2c6.625 0 12 5.375 12 12 0 5.297-3.437 9.797-8.203 11.391-.609.109-.828-.266-.828-.578 0-.391.016-1.687.016-3.297 0-1.125-.375-1.844-.812-2.219 2.672-.297 5.484-1.313 5.484-5.922 0-1.313-.469-2.375-1.234-3.219.125-.313.531-1.531-.125-3.187-1-.313-3.297 1.234-3.297 1.234a11.28 11.28 0 0 0-6 0S6.704 6.656 5.704 6.969c-.656 1.656-.25 2.875-.125 3.187-.766.844-1.234 1.906-1.234 3.219 0 4.594 2.797 5.625 5.469 5.922-.344.313-.656.844-.766 1.609-.688.313-2.438.844-3.484-1-.656-1.141-1.844-1.234-1.844-1.234-1.172-.016-.078.734-.078.734.781.359 1.328 1.75 1.328 1.75.703 2.141 4.047 1.422 4.047 1.422 0 1 .016 1.937.016 2.234 0 .313-.219.688-.828.578C3.439 23.796.002 19.296.002 13.999c0-6.625 5.375-12 12-12zM4.547 19.234c.031-.063-.016-.141-.109-.187-.094-.031-.172-.016-.203.031-.031.063.016.141.109.187.078.047.172.031.203-.031zm.484.532c.063-.047.047-.156-.031-.25-.078-.078-.187-.109-.25-.047-.063.047-.047.156.031.25.078.078.187.109.25.047zm.469.703c.078-.063.078-.187 0-.297-.063-.109-.187-.156-.266-.094-.078.047-.078.172 0 .281s.203.156.266.109zm.656.656c.063-.063.031-.203-.063-.297-.109-.109-.25-.125-.313-.047-.078.063-.047.203.063.297.109.109.25.125.313.047zm.891.391c.031-.094-.063-.203-.203-.25-.125-.031-.266.016-.297.109s.063.203.203.234c.125.047.266 0 .297-.094zm.984.078c0-.109-.125-.187-.266-.172-.141 0-.25.078-.25.172 0 .109.109.187.266.172.141 0 .25-.078.25-.172zm.906-.156c-.016-.094-.141-.156-.281-.141-.141.031-.234.125-.219.234.016.094.141.156.281.125s.234-.125.219-.219z"></path>
</svg>
        </a>
    
</div></li>
  </ul>
</div>
      </div>
      <form id="nav-main-search" action="https://developer.mozilla.org/en-US/search" method="get" role="search" class="nav-main-search">
  <div class="search-wrap">
    <label for="main-q" class="offscreen">Search</label>
    <input type="search" id="main-q" name="q" placeholder="Search" data-value="" value="" aria-hidden="true">
    <span class="search-trigger">
        <svg class="icon icon-search" xmlns="http://www.w3.org/2000/svg" width="26" height="28" viewBox="0 0 26 28" aria-hidden="true">
    <path d="M18 13c0-3.859-3.141-7-7-7s-7 3.141-7 7 3.141 7 7 7 7-3.141 7-7zm8 13c0 1.094-.906 2-2 2a1.96 1.96 0 0 1-1.406-.594l-5.359-5.344a10.971 10.971 0 0 1-6.234 1.937c-6.078 0-11-4.922-11-11s4.922-11 11-11 11 4.922 11 11c0 2.219-.672 4.406-1.937 6.234l5.359 5.359c.359.359.578.875.578 1.406z"></path>
</svg>
    </span>
    <button type="submit" class="offscreen">Search</button>
    <button type="button" id="close-header-search" class="close-header-search transparent">
        <span class="offscreen">Close search</span>
        <svg class="icon icon-close" xmlns="http://www.w3.org/2000/svg" width="22" height="28" viewBox="0 0 22 28" aria-hidden="true" role="img"><title></title><path d="M20.281 20.656c0 .391-.156.781-.438 1.062l-2.125 2.125c-.281.281-.672.438-1.062.438s-.781-.156-1.062-.438L11 19.249l-4.594 4.594c-.281.281-.672.438-1.062.438s-.781-.156-1.062-.438l-2.125-2.125c-.281-.281-.438-.672-.438-1.062s.156-.781.438-1.062L6.751 15l-4.594-4.594c-.281-.281-.438-.672-.438-1.062s.156-.781.438-1.062l2.125-2.125c.281-.281.672-.438 1.062-.438s.781.156 1.062.438L11 10.751l4.594-4.594c.281-.281.672-.438 1.062-.438s.781.156 1.062.438l2.125 2.125c.281.281.438.672.438 1.062s-.156.781-.438 1.062L15.249 15l4.594 4.594c.281.281.438.672.438 1.062z"></path></svg>
    </button>
  </div>
</form>
    </header>  

  <!-- Content will go here -->
  <main id="content">
      
  <!-- heading -->
  <div id="wiki-document-head" class="document-head">
    <div class="center">
      <div class="document-title">
        <h1>Using DTMF with WebRTC</h1>
      </div>

      <!-- action buttons -->
      <div class="document-actions">
        

  
    
  

  
    
    
        
    
  

  

  <ul class="page-buttons">
      <li>
          <button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false">
              <svg class="icon icon-language" xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28" aria-hidden="true">
    <path d="M10.219 16.844c-.031.109-.797-.25-1-.328-.203-.094-1.125-.609-1.359-.766s-1.125-.891-1.234-.938a28.275 28.275 0 0 1-2.094 2.828c-.281.328-1.125 1.391-1.641 1.719-.078.047-.531.094-.594.063.25-.187.969-1.078 1.281-1.437.391-.453 2.25-3.047 2.562-3.641.328-.594 1.312-2.562 1.359-2.75-.156-.016-1.391.406-1.719.516-.313.094-1.172.297-1.234.344-.063.063-.016.25-.047.313s-.313.203-.484.234a1.647 1.647 0 0 1-.734 0c-.203-.047-.391-.25-.438-.328 0 0-.063-.094-.078-.359.187-.063.5-.078.844-.172s1.188-.344 1.641-.5 1.328-.484 1.594-.547c.281-.047.984-.516 1.359-.641s.641-.281.656-.203 0 .422-.016.516c-.016.078-.766 1.547-.875 1.781-.063.125-.5.953-1.203 2.047.25.109.781.328 1 .438.266.125 2.125.906 2.219.938s.266.75.234.875zM7.016 9.25c.047.266-.031.375-.063.438-.156.297-.547.5-.781.594s-.625.187-.938.187c-.141-.016-.422-.063-.766-.406-.187-.203-.328-.75-.266-.688s.516.125.719.078.688-.187.906-.25c.234-.078.703-.203.859-.219.156 0 .281.063.328.266zm10.906 2.016l.984 3.547-2.172-.656zM.609 23.766l10.844-3.625V4.016L.609 7.657v16.109zM20 18.813l1.594.484-2.828-10.266-1.563-.484-3.375 8.375 1.594.484.703-1.719 3.297 1.016zM12.141 3.781l8.953 2.875V.718zM17 24.453l2.469.203-.844 2.5L18 26.125c-1.266.812-2.828 1.437-4.312 1.687-.453.094-.969.187-1.422.187h-1.313c-1.656 0-4.672-.984-5.984-1.937-.094-.078-.125-.141-.125-.25 0-.172.125-.297.281-.297.141 0 .875.453 1.078.547 1.406.703 3.375 1.344 4.953 1.344 1.953 0 3.281-.25 5.063-1.016.516-.234.969-.531 1.453-.797zm7-16.859v16.859c-12.078-3.844-12.094-3.844-12.094-3.844C11.656 20.718.453 24.5.297 24.5a.3.3 0 0 1-.281-.203c0-.016-.016-.031-.016-.047V7.406c.016-.047.031-.125.063-.156.094-.109.219-.141.313-.172.047-.016 1-.328 2.328-.781v-6l8.719 3.094C11.532 3.36 21.251 0 21.392 0c.172 0 .313.125.313.328v6.531z"></path>
</svg>
              <span>Languages</span>
          </button>

        <div class="submenu js-submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
              
                <li class="smaller">No translations exist for this article.</li>
              

              
                <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF$locales" rel="nofollow" id="translations-add">Add a translation</a></li>
              
            </ul>
          </div>
        </div>
      </li>
      
      <li class="page-buttons-edit">
          <a href="https://developer.mozilla.org/en-US/users/signin?next=/en-US/docs/Web/API/WebRTC_API/Using_DTMF%24edit" class="button neutral" id="edit-button" rel="nofollow">
              <svg class="icon icon-pencil" xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28" aria-hidden="true">
    <path d="M5.672 24l1.422-1.422-3.672-3.672L2 20.328V22h2v2h1.672zm8.172-14.5a.329.329 0 0 0-.344-.344.368.368 0 0 0-.266.109l-8.469 8.469a.366.366 0 0 0-.109.266c0 .203.141.344.344.344a.368.368 0 0 0 .266-.109l8.469-8.469a.366.366 0 0 0 .109-.266zM13 6.5l6.5 6.5-13 13H0v-6.5zM23.672 8c0 .531-.219 1.047-.578 1.406L20.5 12 14 5.5l2.594-2.578c.359-.375.875-.594 1.406-.594s1.047.219 1.422.594l3.672 3.656c.359.375.578.891.578 1.422z"></path>
</svg>
              Edit
          </a>
      </li>
      

        

        <li class="page-buttons-advanced">
            <button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false">
                <svg class="icon icon-gear" xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28" aria-hidden="true">
    <path d="M16 14c0-2.203-1.797-4-4-4s-4 1.797-4 4 1.797 4 4 4 4-1.797 4-4zm8-1.703v3.469c0 .234-.187.516-.438.562l-2.891.438a8.86 8.86 0 0 1-.609 1.422c.531.766 1.094 1.453 1.672 2.156.094.109.156.25.156.391s-.047.25-.141.359c-.375.5-2.484 2.797-3.016 2.797a.795.795 0 0 1-.406-.141l-2.156-1.687a9.449 9.449 0 0 1-1.422.594c-.109.953-.203 1.969-.453 2.906a.573.573 0 0 1-.562.438h-3.469c-.281 0-.531-.203-.562-.469l-.438-2.875a9.194 9.194 0 0 1-1.406-.578l-2.203 1.672c-.109.094-.25.141-.391.141s-.281-.063-.391-.172c-.828-.75-1.922-1.719-2.578-2.625a.607.607 0 0 1 .016-.718c.531-.719 1.109-1.406 1.641-2.141a8.324 8.324 0 0 1-.641-1.547l-2.859-.422A.57.57 0 0 1 0 15.705v-3.469c0-.234.187-.516.422-.562l2.906-.438c.156-.5.359-.969.609-1.437a37.64 37.64 0 0 0-1.672-2.156c-.094-.109-.156-.234-.156-.375s.063-.25.141-.359c.375-.516 2.484-2.797 3.016-2.797.141 0 .281.063.406.156L7.828 5.94a9.449 9.449 0 0 1 1.422-.594c.109-.953.203-1.969.453-2.906a.573.573 0 0 1 .562-.438h3.469c.281 0 .531.203.562.469l.438 2.875c.484.156.953.344 1.406.578l2.219-1.672c.094-.094.234-.141.375-.141s.281.063.391.156c.828.766 1.922 1.734 2.578 2.656a.534.534 0 0 1 .109.344c0 .141-.047.25-.125.359-.531.719-1.109 1.406-1.641 2.141.266.5.484 1.016.641 1.531l2.859.438a.57.57 0 0 1 .453.562z"></path>
</svg>
                <span>Advanced</span>
            </button>
            <div class="submenu js-submenu" id="advanced-menu-submenu">
                <!-- this page -->
                <div class="submenu-column">
                    <div class="title">Advanced</div>
                    <ul>
                        <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF$history" rel="nofollow">History</a></li>
                        
                        
                        


                

                <li class="page-print"><a href="#" onclick="return window.print();">Print this article</a></li>
            </ul>
          </div>
        </div>
  </li></ul>
      </div>
    <nav class="crumbs" role="navigation">
      <ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs">
        
          <li property="itemListElement" typeof="ListItem" class="crumb">
            <a href="https://developer.mozilla.org/en-US/docs/Web" property="item" typeof="WebPage">
              <span property="name">Web technology for developers</span>
            </a>
            <meta property="position" content="1">
          </li>
        
          <li property="itemListElement" typeof="ListItem" class="crumb">
            <a href="../../API.html" property="item" typeof="WebPage">
              <span property="name">Web APIs</span>
            </a>
            <meta property="position" content="2">
          </li>
        
          <li property="itemListElement" typeof="ListItem" class="crumb">
            <a href="../WebRTC_API.html" property="item" typeof="WebPage">
              <span property="name">WebRTC API</span>
            </a>
            <meta property="position" content="3">
          </li>
        
        <li property="itemListElement" typeof="ListItem" class="crumb">
          <span property="name" aria-current="page">Using DTMF with WebRTC</span>
        </li>
      </ol>
    </nav></div>
  </div>
  
  <div id="toc" class="toc">
    <div class="center">
      <div class="toc-head">Jump to:</div>
        <ol class="toc-links">
          <li><a rel="internal" href="#Sending_DTMF_on_an_RTCPeerConnection">Sending DTMF on an RTCPeerConnection</a></li><li><a rel="internal" href="#Simple_example">Simple example</a></li><li><a rel="internal" href="#See_also">See also</a>
        </li></ol>
    </div>
  </div>
  

      <div class="center clear">
      

    <div class="wiki-main-content" id="document-main"><div class="center">
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-left-present">

          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              

              
              

              

              
              

              <!-- just the article content -->
              <article id="wikiArticle">
                
                  
                    <div></div>

<p><span class="seoSummary">In order to more fully support audio/video conferencing, <a href="../WebRTC_API.html">WebRTC</a> supports sending <a href="https://developer.mozilla.org/en-US/docs/Glossary/DTMF" class="glossaryLink" title="DTMF: Dual-Tone Multi-Frequency (DTMF) signaling is a system by which audible tones are used to represent buttons being pressed on a keypad. Frequently referred to in the United States as &quot;touch tone&quot; (after the Touch-Tone trademark used when the transition from pulse dialing to DTMF began), DTMF makes it possible to signal the digits 0-9 as well as the letters &quot;A&quot; through &quot;D&quot; and the symbols &quot;#&quot; and &quot;*&quot;. Few telephone keypads include the letters, which are typically used for control signaling by the telephone network.">DTMF</a> to the remote peer on an <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a>. This article offers a brief high-level overview of how DTMF works over WebRTC, then provides a guide for everyday developers about how to send DTMF over an <code>RTCPeerConnection</code>. The DTMF system is often referred to as "touch tone," after an old trade name for the system.</span></p>

<p>WebRTC doesn't send DTMF codes as audio data. Instead, they're sent out-of-band, as RTP payloads. Note, however, that although it's possible to <em>send</em> DTMF using WebRTC, there is currently no way to detect or receive <em>incoming</em> DTMF. WebRTC currently ignores these payloads; this is because WebRTC's DTMF support is primarily intended for use with legacy telephone services that rely on DTMF tones to perform tasks such as:</p>

<ul>
 <li>Teleconferencing systems</li>
 <li>Menu systems</li>
 <li>Voicemail systems</li>
 <li>Entry of credit card or other payment information</li>
 <li>Passcode entry</li>
</ul>

<div class="note">
<p><strong>Note</strong>: While the DTMF is not sent to the remote peer as audio, browsers may choose to play the corresponding tone to the local user as part of their user experience, since users are typically used to hearing their phone play the tones audibly.</p>
</div>

<a class="dashAnchor" name="//apple_ref/Section/Sending%20DTMF%20on%20an%20RTCPeerConnection"></a><h2 id="Sending_DTMF_on_an_RTCPeerConnection">Sending DTMF on an RTCPeerConnection</h2>

<p>A given <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a> can have multiple media tracks sent or received on it. When you wish to transmit DTMF signals, you first need to decide which track to send them on, since DTMF is sent as a series of out-of-band payloads on the <a href="../RTCRtpSender.html" title="The RTCRtpSender interface provides the ability to control and obtain details about how a particular MediaStreamTrack is encoded and sent to a remote peer."><code>RTCRtpSender</code></a> responsible for transmitting that track's data to the other peer.</p>

<p>Once the track is selected, you can obtain from its <code>RTCRtpSender</code> the <a href="../RTCDTMFSender.html" title="tbd"><code>RTCDTMFSender</code></a> object you'll use for sending DTMF. From there, you can simply call <a href="../RTCDTMFSender/insertDTMF.html" title="The insertDTMF() method on the RTCDTMFSender interface starts sending  tones to the remote peer over the RTCPeerConnection. Sending of the tones is performed asynchronously, with tonechange events sent to the RTCDTMFSender every time a tone starts or ends."><code>RTCDTMFSender.insertDTMF()</code></a> to enqueue DTMF signals to be sent on the track to the other peer. The <code>RTCRtpSender</code> will then send the tones to the other peer as packets alongside the track's audio data.</p>

<p>Each time a tone is sent, the <code>RTCPeerConnection</code> receives a <code><a href="../RTCDTMFSender/tonechange_event.html" title="/en-US/docs/Web/Events/tonechange">tonechange</a></code> event with a <a href="../RTCDTMFToneChangeEvent/tone.html" title="The read-only property RTCDTMFToneChangeEvent.tone returns the DTMF character which has just begun to play, or an empty string (&quot;&quot;). if all queued tones have finished playing (that is, RTCDTMFSender.toneBuffer is empty)."><code>tone</code></a> property specifying which tone finished playing, which is an opportunity to update interface elements, for example. When the tone buffer is empty, indicating that all the tones have been sent, a <code>tonechange</code> event with its <code>tone</code> property set to "" (an empty string) is delivered to the connection object.</p>

<p>If you'd like to know more about how this works, read <a rel="noopener" href="https://tools.ietf.org/html/rfc3550" class="external">RFC 3550: RTP: A Transport Protocol for Real-Time Applications</a> and <a rel="noopener" href="https://tools.ietf.org/html/rfc4733" class="external">RFC 4733: RTP Payload for DTMF Digits, Telephony Tones, and Telephony Signals</a>. The details of how DTMF payloads are handled on RTP are beyond the scope of this article. Instead, we'll focus on how to use DTMF within the context of an <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a> by studying how an example works.</p>

<a class="dashAnchor" name="//apple_ref/Section/Simple%20example"></a><h2 id="Simple_example" name="Simple_example">Simple example</h2>

<p>This simple example constructs two <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a>s, establishes a connection between them, then waits for the user to click a "Dial" button. When the button is clicked, a DTMF string is sent over the connection using <a href="../RTCDTMFSender/insertDTMF.html" title="The insertDTMF() method on the RTCDTMFSender interface starts sending  tones to the remote peer over the RTCPeerConnection. Sending of the tones is performed asynchronously, with tonechange events sent to the RTCDTMFSender every time a tone starts or ends."><code>RTCDTMFSender.insertDTMF()</code></a>. Once the tones finish transmitting, the connection is closed.</p>

<div class="note">
<p><strong>Note</strong>: This example is obviously somewhat contrived, since normally the two <code>RTCPeerConnection</code> objects would exist on different devices, and signaling would be done over the network instead of it all being simply linked up inline as it is here.</p>
</div>

<h3 id="HTML">HTML</h3>

<p>The HTML for this example is very basic; there are only three elements of importance:</p>

<ul>
 <li>An <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio" title="The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:&nbsp;the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream."><code>&lt;audio&gt;</code></a> element to play the audio received by the <code>RTCPeerConnection</code> being "called."</li>
 <li>A <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button" title="The HTML <button> element represents a clickable button, which can be used in forms or anywhere in a document that needs simple, standard button functionality."><code>&lt;button&gt;</code></a> element to trigger creating and connecting the two <code>RTCPeerConnection</code> objects, then sending the DTMF tones.</li>
 <li>A <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div" title="The HTML Content Division element (<div>) is the generic container for flow content. It has no effect on the content or layout until styled using CSS."><code>&lt;div&gt;</code></a> to receive and display log text to show status information.</li>
</ul>

<pre class="brush: html">  &lt;p&gt;This example demonstrates the use of DTMF in WebRTC. Note that this
     example is "cheating" by generating both peers in one code stream,
     rather than having each be a truly separate entity.&lt;/p&gt;

  &lt;audio id="audio" autoplay controls&gt;&lt;/audio&gt;&lt;br/&gt;
  &lt;button name="dial" id="dial"&gt;Dial&lt;/button&gt;

  &lt;div class="log"&gt;&lt;/div&gt;</pre>

<h3 id="JavaScript">JavaScript</h3>

<p>Let's take a look at the JavaScript code next. Keep in mind that the process of establishing the connection is somewhat contrived here; you normally don't build both ends of the connection in the same document.</p>

<h4 id="Global_variables">Global variables</h4>

<p>First, we establish global variables.</p>

<pre class="brush: js">let dialString = "12024561111";

let callerPC = null;
let receiverPC = null;
let dtmfSender = null;

let hasAddTrack = false;

let mediaConstraints = {
  audio: true,
  video: false
};

let offerOptions = {
  offerToReceiveAudio: 1,
  offerToReceiveVideo: 0
};

let dialButton = null;
let logElement = null;
</pre>

<p>These are, in order:</p>

<dl>
 <dt><code>dialString</code></dt>
 <dd>The DTMF string the caller will send when the "Dial" button is clicked.</dd>
 <dt><code>callerPC</code> and <code>receiverPC</code></dt>
 <dd>The <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a> objects representing the caller and the receiver, respectively. These will be initialized when the call starts up, in our <code>connectAndDial()</code> function, as shown in <a href="#Starting_the_connection_process">Starting the connection process</a> below.</dd>
 <dt><code>dtmfSender</code></dt>
 <dd>The <a href="../RTCDTMFSender.html" title="tbd"><code>RTCDTMFSender</code></a> object for the connection. This will be obtained while setting up the connection, in the <code>gotStream()</code> function shown in <a href="#Adding_the_audio_to_the_connection">Adding the audio to the connection</a>.</dd>
 <dt><code>hasAddTrack</code></dt>
 <dd>Because some browsers have not yet implemented <a href="../RTCPeerConnection/addTrack.html" title="The RTCPeerConnection method addTrack() adds a new media track to the set of tracks which will be transmitted to the other peer."><code>RTCPeerConnection.addTrack()</code></a>, therefore requiring the use of the obsolete <a href="../RTCPeerConnection/addStream.html" title="The RTCPeerConnection.addStream() method adds a MediaStream as a local source of audio or video. If the negotiation already happened, a new one will be needed for the remote peer to be able to use it."><code>addStream()</code></a> method, we use this Boolean to determine whether or not the user agent supports <code>addTrack()</code>; if it doesn't, we'll fall back to <code>addStream()</code>. This gets figured out in <code>connectAndDial()</code>, as shown in <a href="#Starting_the_connection_process">Starting the connection process</a>.</dd>
 <dt><code>mediaConstraints</code></dt>
 <dd>An object conforming to the <a rel="nofollow" href="../MediaConstraints.html" class="new" title="The documentation about this has not yet been written; please consider contributing!"><code>MediaConstraints</code></a> dictionary specifying the constraints to use when starting the connection. We want an audio-only connection, so <code>video</code> is <code>false</code>, while <code>audio</code> is <code>true</code>.</dd>
 <dt><code>offerOptions</code></dt>
 <dd>An <code>RTCOfferOptions</code> object providing options to specify when calling <a href="../RTCPeerConnection/createOffer.html" title="The createOffer() method of the RTCPeerConnection interface initiates the creation of an SDP offer for the purpose of starting a new WebRTC connection to a remote peer."><code>RTCPeerConnection.createOffer()</code></a>. In this case, we state that we want to receive audio but not video.</dd>
 <dt><code>dialButton</code> and <code>logElement</code></dt>
 <dd>These variables will be used to store references to the dial button and the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div" title="The HTML Content Division element (<div>) is the generic container for flow content. It has no effect on the content or layout until styled using CSS."><code>&lt;div&gt;</code></a> into which logging information will be written. They'll get set up when the page is first loaded. See <a href="#Initialization">Initialization</a> below.</dd>
</dl>

<h4 id="Initialization">Initialization</h4>

<p>When the page loads, we do some basic setup: we fetch references to the dial button and the log output box elements, and we use <a href="../EventTarget/addEventListener.html" title="The EventTarget method addEventListener() sets up a function that will be&nbsp;called whenever the specified event is delivered to the target."><code>addEventListener()</code></a> to add an event listener to the dial button so that clicking it calls the <code>connectAndDial()</code> function to begin the connection process.</p>

<pre class="brush: js">window.addEventListener("load", function() {
  logElement = document.querySelector(".log");
  dialButton = document.querySelector("#dial");

  dialButton.addEventListener("click", connectAndDial, false);
});
</pre>

<h4 id="Starting_the_connection_process">Starting the connection process</h4>

<p>When the dial button is clicked, <code>connectAndDial()</code> is called. This starts building the WebRTC connection in preparation for sending the DTMF codes.</p>

<pre class="brush: js">function connectAndDial() {
  callerPC = new RTCPeerConnection();

  hasAddTrack = (callerPC.addTrack !== undefined);

  callerPC.onicecandidate = handleCallerIceEvent;
  callerPC.onnegotiationneeded = handleCallerNegotiationNeeded;
  callerPC.oniceconnectionstatechange = handleCallerIceConnectionStateChange;
  callerPC.onsignalingstatechange = handleCallerSignalingStateChangeEvent;
  callerPC.onicegatheringstatechange = handleCallerGatheringStateChangeEvent;

  receiverPC = new RTCPeerConnection();
  receiverPC.onicecandidate = handleReceiverIceEvent;

  if (hasAddTrack) {
    receiverPC.ontrack = handleReceiverTrackEvent;
  } else {
    receiverPC.onaddstream = handleReceiverAddStreamEvent;
  }

  navigator.mediaDevices.getUserMedia(mediaConstraints)
  .then(gotStream)
  .catch(err =&gt; log(err.message));
}
</pre>

<p>After creating the <code>RTCPeerConnection</code> for the caller (<code>callerPC</code>), we look to see if it has an <a href="../RTCPeerConnection/addTrack.html" title="The RTCPeerConnection method addTrack() adds a new media track to the set of tracks which will be transmitted to the other peer."><code>addTrack()</code></a> method. If it does, we set <code>hasAddTrack</code> to <code>true</code>; otherwise, we set it to <code>false</code>. This variable will let the example operate even on browsers not yet implementing the newer <code>addTrack()</code> method; we'll do so by falling back to the older <a href="../RTCPeerConnection/addStream.html" title="The RTCPeerConnection.addStream() method adds a MediaStream as a local source of audio or video. If the negotiation already happened, a new one will be needed for the remote peer to be able to use it."><code>addStream()</code></a> method.</p>

<p>Next, the event handlers for the caller are established. We'll cover these in detail later.</p>

<p>Then a second <code>RTCPeerConnection</code>, this one representing the receiving end of the call, is created and stored in <code>receiverPC</code>; its <code>onicecandidate</code> event handler is set up too.</p>

<p>If <code>addTrack()</code> is supported, we set up the receiver's <code>ontrack</code> event handler; otherwise, we set up <code>onaddstream</code>. The <code><a href="../RTCPeerConnection/track_event.html" title="/en-US/docs/Web/Events/track">track</a></code> and <code><a href="../RTCPeerConnection/addstream_event.html" title="/en-US/docs/Web/Events/addstream">addstream</a></code> events are sent when media is added to the connection.</p>

<p>Finally, we call <a href="../MediaDevices/getUserMedia.html" title="The MediaDevices.getUserMedia() method prompts the user for permission to use a media input which produces a MediaStream with tracks containing the requested types of media."><code>getUserMedia()</code></a> to obtain access to the caller's microphone. If successful, the function <code>gotStream()</code> is called, otherwise we log the error because calling has failed.</p>

<h4 id="Adding_the_audio_to_the_connection">Adding the audio to the connection</h4>

<p>As mentioned above, when the audio input from the microphone is obtained, <code>gotStream()</code> is called. Its job is to build the stream being sent to the receiver, so the actual process of starting to transmit can begin. It also gets access to the <code>RTCDTMFSender</code> we'll use to issue DTMF on the connection.</p>

<pre class="brush: js">function gotStream(stream) {
  log("Got access to the microphone.");

  let audioTracks = stream.getAudioTracks();

  if (hasAddTrack) {
    if (audioTracks.length &gt; 0) {
      audioTracks.forEach(track =&gt; callerPC.addTrack(track, stream));
    }
  } else {
    log("Your browser doesn't support RTCPeerConnection.addTrack(). Falling " +
        "back to the &lt;strong&gt;deprecated&lt;/strong&gt; addStream() method...");
    callerPC.addStream(stream);
  }

  if (callerPC.getSenders) {
    dtmfSender = callerPC.getSenders()[0].dtmf;
  } else {
    log("Your browser doesn't support RTCPeerConnection.getSenders(), so " +
        "falling back to use &lt;strong&gt;deprecated&lt;/strong&gt; createDTMFSender() " +
        "instead.");
    dtmfSender = callerPC.createDTMFSender(audioTracks[0]);
  }

  dtmfSender.ontonechange = handleToneChangeEvent;
}
</pre>

<p>After setting <code>audioTracks</code> to be a list of the audio tracks on the stream from the user's microphone, it's time to add the media to the caller's <code>RTCPeerConnection</code>. If <code>addTrack()</code> is available on the <code>RTCPeerConnection</code>, we add each of the stream's audio tracks, one by one, to the connection using <a href="../RTCPeerConnection/addTrack.html" title="The RTCPeerConnection method addTrack() adds a new media track to the set of tracks which will be transmitted to the other peer."><code>RTCPeerConnection.addTrack()</code></a>. Otherwise we call <a href="../RTCPeerConnection/addStream.html" title="The RTCPeerConnection.addStream() method adds a MediaStream as a local source of audio or video. If the negotiation already happened, a new one will be needed for the remote peer to be able to use it."><code>RTCPeerConnection.addStream()</code></a> to add the stream to the call as a single unit.</p>

<p>Next we look to see if the <a href="../RTCPeerConnection/getSenders.html" title="The RTCPeerConnection method getSenders() returns an array of RTCRtpSender objects, each of which represents the RTP sender responsible for transmitting one track's data."><code>RTCPeerConnection.getSenders()</code></a> method is implemented. If it is, we call it on <code>callerPC</code> and get the first entry in the returned list of senders; this is the <a href="../RTCRtpSender.html" title="The RTCRtpSender interface provides the ability to control and obtain details about how a particular MediaStreamTrack is encoded and sent to a remote peer."><code>RTCRtpSender</code></a> responsible for transmitting data for the first audio track on the call (which is the track we'll send DTMF over). We then obtain the <code>RTCRtpSender</code>'s <a href="../RTCRtpSender/dtmf.html" title="The read-only dtmf property on the RTCRtpSender interface returns a RTCDTMFSender object which can be used to send DTMF tones over the RTCPeerConnection . See Using DTMF for details on how to make use of the returned RTCDTMFSender object."><code>dtmf</code></a> property, which is an <a href="../RTCDTMFSender.html" title="tbd"><code>RTCDTMFSender</code></a> object that can send DTMF on the connection, from the caller to the receiver.</p>

<p>If <code>getSenders()</code> isn't available, we instead call <a rel="nofollow" href="../RTCPeerConnection/createDTMFSender.html" class="new" title="The documentation about this has not yet been written; please consider contributing!"><code>RTCPeerConnection.createDTMFSender()</code></a> to get the <code>RTCDTMFSender</code> object. Although this method is obsolete, this example supports it as a fallback to let older browsers (and those not yet updated to support the current WebRTC DTMF API) run the example.</p>

<p>Finally, we set the DTMF sender's <a href="../RTCDTMFSender/ontonechange.html" title="The ontonechange property of the RTCDTMFSender interface is used to set the event handler for the tonechange event, which is sent to the RTCDTMFSender each time a tone begins or ends. The event handler receives as input a single parameter of type RTCDTMFToneChangeEvent, which describes the change."><code>ontonechange</code></a> event handler so we get notified each time a DTMF tone finishes playing.</p>

<h4 id="When_a_tone_finishes_playing">When a tone finishes playing</h4>

<p>Each time a DTMF tone finishes playing, a <code><a href="../RTCDTMFSender/tonechange_event.html" title="/en-US/docs/Web/Events/tonechange">tonechange</a></code> event is delivered to <code>callerPC</code>. The event listener for these is implemented as the <code>handleToneChangeEvent()</code> function.</p>

<pre class="brush: js">function handleToneChangeEvent(event) {
  if (event.tone !== "") {
    log("Tone played: " + event.tone);
  } else {
    log("All tones have played. Disconnecting.");
    callerPC.getLocalStreams().forEach(function(stream) {
      stream.getTracks().forEach(function(track) {
        track.stop();
      });
    });
    receiverPC.getLocalStreams().forEach(function(stream) {
      stream.getTracks().forEach(function(track) {
        track.stop();
      });
    });

    audio.pause();
    audio.srcObject = null;
    receiverPC.close();
    callerPC.close();
  }
}
</pre>

<p>The <code><a href="../RTCDTMFSender/tonechange_event.html" title="/en-US/docs/Web/Events/tonechange">tonechange</a></code> event is used both to indicate when an individual tone has played and when all tones have finished playing. The event's <a href="../RTCDTMFToneChangeEvent/tone.html" title="The read-only property RTCDTMFToneChangeEvent.tone returns the DTMF character which has just begun to play, or an empty string (&quot;&quot;). if all queued tones have finished playing (that is, RTCDTMFSender.toneBuffer is empty)."><code>tone</code></a> property is a string indicating which tone just finished playing. If all tones have finished playing, <code>tone</code> is an empty string; when that's the case, <a href="../RTCDTMFSender/toneBuffer.html" title="The RTCDTMFSender interface's toneBuffer property returns a string containing a list of the DTMF tones currently queued for sending to the remote peer over the RTCPeerConnection. To place tones into the buffer, call insertDTMF()."><code>RTCDTMFSender.toneBuffer</code></a> is empty.</p>

<p>In this example, we log to the screen which tone just finished playing. In a more advanced application, you might update the user interface, for example, to indicate which note is currently playing.</p>

<p>On the other hand, if the tone buffer is empty, our example is designed to disconnect the call. This is done by stopping each stream on both the caller and the receiver by iterating over each <code>RTCPeerConnection</code>'s track list (as returned by its <a rel="nofollow" href="../RTCPeerConnection/getTracks.html" class="new" title="The documentation about this has not yet been written; please consider contributing!"><code>getTracks()</code></a> method) and calling each track's <a href="../MediaStreamTrack/stop.html" title="In short, the MediaStreamTrack method stop() method stops the track."><code>stop()</code></a> method.</p>

<p>Once both the caller's and the receiver's media tracks are all stopped, we pause the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio" title="The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:&nbsp;the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream."><code>&lt;audio&gt;</code></a> element and set its <a href="../HTMLMediaElement/srcObject.html" title="The srcObject&nbsp;property of the HTMLMediaElement interface sets or returns the object which serves as the source of the media associated with the HTMLMediaElement."><code>srcObject</code></a> to <code>null</code>. This detaches the audio stream from the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio" title="The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:&nbsp;the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream."><code>&lt;audio&gt;</code></a> element.</p>

<p>Then, finally, each <code>RTCPeerConnection</code> is closed by calling its <a href="../RTCPeerConnection/close.html" title="The RTCPeerConnection.close() method closes the current peer connection."><code>close()</code></a> method.</p>

<h4 id="Adding_candidates_to_the_caller">Adding candidates to the caller</h4>

<p>When the caller's <code>RTCPeerConnection</code> ICE layer comes up with a new candidate to propose, it issues an <code><a href="../RTCPeerConnection/icecandidate_event.html" title="/en-US/docs/Web/Events/icecandidate">icecandidate</a></code> event to <code>callerPC</code>. The <code>icecandidate</code> event handler's job is to transmit the candidate to the receiver. In our example, we are directly controlling both the caller and the receiver, so we can just directly add the candidate to the receiver by calling its <a href="../RTCPeerConnection/addIceCandidate.html" title="When a web site or app using RTCPeerConnection receives a new ICE candidate from the remote peer over its signaling channel, it delivers the newly-received candidate to the browser's ICE agent by calling RTCPeerConnection.addIceCandidate()."><code>addIceCandidate()</code></a> method. That's handled by <code>handleCallerIceEvent()</code>:</p>

<pre class="brush: js">function handleCallerIceEvent(event) {
  if (event.candidate) {
    log("Adding candidate to receiver: " + event.candidate.candidate);

    receiverPC.addIceCandidate(new RTCIceCandidate(event.candidate))
    .catch(err =&gt; log("Error adding candidate to receiver: " + err));
  } else {
    log("Caller is out of candidates.");
  }
}
</pre>

<p>If the <code><a href="../RTCPeerConnection/icecandidate_event.html" title="/en-US/docs/Web/Events/icecandidate">icecandidate</a></code> event has a non-<code>null</code> <code>candidate</code> property, we create a new <a href="../RTCIceCandidate.html" title="The RTCIceCandidate interfacepart of the WebRTC APIrepresents a candidate Internet Connectivity Establishment (ICE) configuration which may be used to establish an RTCPeerConnection."><code>RTCIceCandidate</code></a> object from the <code>event.candidate</code> string and "transmit" it to the receiver by calling <code>receiverPC.addIceCandidate()</code>, providing the new <code>RTCIceCandidate</code> as its input. If <code>addIceCandidate()</code> fails, the <code>catch()</code> clause outputs the error to our log box.</p>

<p>If <code>event.candidate</code> is <code>null</code>, that indicates that there are no more candidates available, and we log that information.</p>

<h4 id="Dialing_once_the_connection_is_open">Dialing once the connection is open</h4>

<p>Our design requires that when the connection is established, we immediately send the DTMF string. To accomplish that, we watch for the caller to receive an <code><a href="../RTCPeerConnection/iceconnectionstatechange_event.html" title="/en-US/docs/Web/Events/iceconnectionstatechange">iceconnectionstatechange</a></code> event. This event is sent when one of a number of changes occurs to the state of the ICE connection process, including the successful establishment of a connection.</p>

<pre class="brush: js">function handleCallerIceConnectionStateChange() {
  log("Caller's connection state changed to " + callerPC.iceConnectionState);
  if (callerPC.iceConnectionState === "connected") {
    log("Sending DTMF: \"" + dialString + "\"");
    dtmfSender.insertDTMF(dialString, 400, 50);
  }
}
</pre>

<p>The <code>iceconnectionstatechange</code> event doesn't actually include within it the new state, so we get the connection process's current state from <code>callerPC</code>'s <a href="../RTCPeerConnection/iceConnectionState.html" title="The read-only property RTCPeerConnection.iceConnectionState returns an enum of type RTCIceConnectionState which state of the ICE agent associated with the RTCPeerConnection."><code>RTCPeerConnection.iceConnectionState</code></a> property. After logging the new state, we look to see if the state is <code>"connected"</code>. If so, we log the fact that we're about to send the DTMF, then we call <a href="../RTCDTMFSender/insertDTMF.html" title="The insertDTMF() method on the RTCDTMFSender interface starts sending  tones to the remote peer over the RTCPeerConnection. Sending of the tones is performed asynchronously, with tonechange events sent to the RTCDTMFSender every time a tone starts or ends."><code>dtmf.insertDTMF()</code></a> to send the DTMF on the same track as the audio data method on the <code>RTCDTMFSender</code> object we <a href="#Adding_the_audio_to_the_connection">previously stored</a> in <code>dtmfSender</code>.</p>

<p>Our call to <code>insertDTMF()</code> specifies not only the DTMF to send (<code>dialString</code>), but also the length of each tone in milliseconds (400 ms) and the amount of time between tones (50 ms).</p>

<h4 id="Negotiating_the_connection">Negotiating the connection</h4>

<p>When the calling <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a> begins to receive media (after the microphone's stream is added to it), a <code><a href="../RTCPeerConnection/negotiationneeded_event.html" title="/en-US/docs/Web/Events/negotiationneeded">negotiationneeded</a></code> event is delivered to the caller, letting it know that it's time to start negotiating the connection with the receiver. As previously mentioned, our example is simplified somewhat because we control both the caller and the receiver, so <code>handleCallerNegotiationNeeded()</code> is able to quickly construct the connection by chaining the required calls together for both the caller and receiver, as shown below.</p>

<pre class="brush: js">function handleCallerNegotiationNeeded() {
  log("Negotiating...");
  callerPC.createOffer(offerOptions)
  .then(function(offer) {
    log("Setting caller's local description: " + offer.sdp);
    return callerPC.setLocalDescription(offer);
  })
  .then(function() {
    log("Setting receiver's remote description to the same as caller's local");
    return receiverPC.setRemoteDescription(callerPC.localDescription)
  })
  .then(function() {
    log("Creating answer");
    return receiverPC.createAnswer();
  })
  .then(function(answer) {
    log("Setting receiver's local description to " + answer.sdp);
    return receiverPC.setLocalDescription(answer);
  })
  .then(function() {
    log("Setting caller's remote description to match");
    return callerPC.setRemoteDescription(receiverPC.localDescription);
  })
  .catch(err =&gt; log("Error during negotiation: " + err.message));
}
</pre>

<p>Since the various methods involved in negotiating the connection return <a href="../../JavaScript/Reference/Global_Objects/promise-2.html" title="The Promise object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value."><code>promise</code></a>s, we can chain them together like this:</p>

<ol>
 <li>Call <a href="../RTCPeerConnection/createOffer.html" title="The createOffer() method of the RTCPeerConnection interface initiates the creation of an SDP offer for the purpose of starting a new WebRTC connection to a remote peer."><code>callerPC.createOffer()</code></a> to get an offer.</li>
 <li>Then take that offer and set the caller's local description to match by calling <a href="../RTCPeerConnection/setLocalDescription.html" title="The RTCPeerConnection.setLocalDescription() method changes the local description associated with the connection. This description specifies the properties of the local end of the connection, including the media format."><code>callerPC.setLocalDescription()</code></a>.</li>
 <li>Then "transmit" the offer to the receiver by calling <a href="../RTCPeerConnection/setRemoteDescription.html" title="The RTCPeerConnection.setRemoteDescription() method changes the remote description associated with the connection. This description specifies the properties of the remote end of the connection, including the media format."><code>receiverPC.setRemoteDescription()</code></a>. This configures the receiver so that it knows how the caller is configured.</li>
 <li>Then the receiver creates an answer by calling <a href="../RTCPeerConnection/createAnswer.html" title="The createAnswer() method on the RTCPeerConnection interface creates an SDP answer to an offer received from a remote peer during the offer/answer negotiation of a WebRTC connection. The answer contains information about any media already attached to the session, codecs and options supported by the browser, and any ICE candidates already gathered. The answer is delivered to the returned Promise, and should then be sent to the source of the offer to continue the negotiation process."><code>receiverPC.createAnswer()</code></a>.</li>
 <li>Then the receiver sets its local description to match the newly-created answer by calling <a href="../RTCPeerConnection/setLocalDescription.html" title="The RTCPeerConnection.setLocalDescription() method changes the local description associated with the connection. This description specifies the properties of the local end of the connection, including the media format."><code>receiverPC.setLocalDescription()</code></a>.</li>
 <li>Then the answer is "transmitted" to the caller by calling <a href="../RTCPeerConnection/setRemoteDescription.html" title="The RTCPeerConnection.setRemoteDescription() method changes the remote description associated with the connection. This description specifies the properties of the remote end of the connection, including the media format."><code>callerPC.setRemoteDescription()</code></a>. This lets the caller know what the receiver's configuration is.</li>
 <li>If at any time an error occurs, the <code>catch()</code> clause outputs an error message to the log.</li>
</ol>

<h4 id="Tracking_other_state_changes">Tracking other state changes</h4>

<p>We can also watch for changes to the signaling state (by accepting <code><a href="../RTCPeerConnection/signalingstatechange_event.html" title="/en-US/docs/Web/Events/signalingstatechange">signalingstatechange</a></code> events) and the ICE gathering state (by accepting <code><a href="../RTCPeerConnection/icegatheringstatechange_event.html" title="/en-US/docs/Web/Events/icegatheringstatechange">icegatheringstatechange</a></code> events). We aren't using these for anything, so all we do is log them. We could simply have not set up these event listeners at all.</p>

<pre class="brush: js">function handleCallerSignalingStateChangeEvent() {
  log("Caller's signaling state changed to " + callerPC.signalingState);
}

function handleCallerGatheringStateChangeEvent() {
  log("Caller's ICE gathering state changed to " + callerPC.iceGatheringState);
}
</pre>

<h4 id="Adding_candidates_to_the_receiver">Adding candidates to the receiver</h4>

<p>When the receiver's <code>RTCPeerConnection</code> ICE layer comes up with a new candidate to propose, it issues an <code><a href="../RTCPeerConnection/icecandidate_event.html" title="/en-US/docs/Web/Events/icecandidate">icecandidate</a></code> event to <code>receiverPC</code>. The <code>icecandidate</code> event handler's job is to transmit the candidate to the caller. In our example, we are directly controlling both the caller and the receiver, so we can just directly add the candidate to the caller by calling its <a href="../RTCPeerConnection/addIceCandidate.html" title="When a web site or app using RTCPeerConnection receives a new ICE candidate from the remote peer over its signaling channel, it delivers the newly-received candidate to the browser's ICE agent by calling RTCPeerConnection.addIceCandidate()."><code>addIceCandidate()</code></a> method. That's handled by <code>handleReceiverIceEvent()</code>.</p>

<p>This code is analogous to the <code>icecandidate</code> event handler for the caller, seen in <a href="#Adding_candidates_to_the_caller">Adding candidates to the caller</a> above.</p>

<pre class="brush: js">function handleReceiverIceEvent(event) {
  if (event.candidate) {
    log("Adding candidate to caller: " + event.candidate.candidate);

    callerPC.addIceCandidate(new RTCIceCandidate(event.candidate))
    .catch(err =&gt; log("Error adding candidate to caller: " + err));
  } else {
    log("Receiver is out of candidates.");
  }
}
</pre>

<p>If the <code><a href="../RTCPeerConnection/icecandidate_event.html" title="/en-US/docs/Web/Events/icecandidate">icecandidate</a></code> event has a non-<code>null</code> <code>candidate</code> property, we create a new <a href="../RTCIceCandidate.html" title="The RTCIceCandidate interfacepart of the WebRTC APIrepresents a candidate Internet Connectivity Establishment (ICE) configuration which may be used to establish an RTCPeerConnection."><code>RTCIceCandidate</code></a> object from the <code>event.candidate</code> string and deliver it to the caller by passing that into <code>callerPC.addIceCandidate()</code>. If <code>addIceCandidate()</code> fails, the <code>catch()</code> clause outputs the error to our log box.</p>

<p>If <code>event.candidate</code> is <code>null</code>, that indicates that there are no more candidates available, and we log that information.</p>

<h4 id="Adding_media_to_the_receiver">Adding media to the receiver</h4>

<p>When the receiver begins to receive media, an event is delivered to the receiver's <a href="../RTCPeerConnection.html" title="The RTCPeerConnection interface represents a WebRTC connection between the local computer and a remote peer. It provides methods to connect to a remote peer, maintain and monitor the connection, and close the connection once it's no longer needed."><code>RTCPeerConnection</code></a>, <code>receiverPC</code>. As explained in <a href="#Starting_the_connection_process">Starting the connection process</a>, the current WebRTC specification uses the <code><a href="../RTCPeerConnection/track_event.html" title="/en-US/docs/Web/Events/track">track</a></code> event for this, but some browsers haven't been updated to support this yet, so we also need to handle the <code><a href="../RTCPeerConnection/addstream_event.html" title="/en-US/docs/Web/Events/addstream">addstream</a></code> event. The <code>handleReceiverTrackEvent()</code> and <code>handleReceiverAddStreamEvent()</code> methods, shown below, handle these.</p>

<pre class="brush: js">function handleReceiverTrackEvent(event) {
  audio.srcObject = event.streams[0];
}

function handleReceiverAddStreamEvent(event) {
  audio.srcObject = event.stream;
}
</pre>

<p>The <code>track</code> event includes a <a href="../RTCTrackEvent/streams.html" title="The WebRTC API interface RTCTrackEvent's read-only streams property specifies an array of MediaStream objects, one for each of the streams that comprise the track being added to the RTCPeerConnection."><code>streams</code></a> property containing an array of the streams the track is a member of (one track can be part of many streams). We take the first stream and attach it to the <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/audio" title="The HTML <audio> element is used to embed sound content in documents. It may contain one or more audio sources, represented using the src attribute or the <source> element:&nbsp;the browser will choose the most suitable one. It can also be the destination for streamed media, using a MediaStream."><code>&lt;audio&gt;</code></a> element.</p>

<p>The <code>addstream</code> event includes a <a rel="nofollow" href="../RTCTrackEvent/stream.html" class="new" title="The documentation about this has not yet been written; please consider contributing!"><code>stream</code></a> property specifying a single stream added to the track. We simply attach it to the <code>&lt;audio&gt;</code> element.</p>

<h4 id="Logging">Logging</h4>

<p>A simple <code>log()</code> function is used throughout the code to append HTML to a <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/div" title="The HTML Content Division element (<div>) is the generic container for flow content. It has no effect on the content or layout until styled using CSS."><code>&lt;div&gt;</code></a> box for displaying status and errors to the user.</p>

<pre class="brush: js">function log(msg) {
  logElement.innerHTML += msg + "&lt;br/&gt;";
}</pre>

<h3 id="Result">Result</h3>

<p>You can try this example here. When you click the "Dial" button, you should see a series of logging messages output, then the dialing will begin. If your browser plays the tones audibly as part of its user experience, you should hear them as they're transmitted.</p>

<p><iframe src="../../../../../../mdn.mozillademos.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF%24samples/Simple_exampled361.html?revision=1462653" class="live-sample-frame sample-code-frame" height="500" width="600" id="frame_Simple_example" frameborder="0"></iframe></p>

<p>Once transmission of the tones is complete, the connection is closed. You can click "Dial" again to reconnect and send the tones again.</p>

<a class="dashAnchor" name="//apple_ref/Section/See%20also"></a><h2 id="See_also">See also</h2>

<ul>
 <li><a href="../WebRTC_API.html">WebRTC API</a></li>
 <li><a href="Session_lifetime.html">Lifetime of a WebRTC session</a></li>
 <li><a href="Signaling_and_video_calling.html">Signaling and video calling</a> (a tutorial and example which explains the signaling process in more detail)</li>
 <li><a href="Protocols.html">Introduction to WebRTC protocols</a></li>
</ul>
                  
                
              </article>

              <!-- contributors -->
              <div class="wiki-block contributors">
                <h2 class="offscreen">Document Tags and Contributors</h2>
                
                
  <div class="tag-attach-list contributors-sub">
    <svg class="icon icon-tags" xmlns="http://www.w3.org/2000/svg" width="30" height="28" viewBox="0 0 30 28" aria-hidden="true">
    <path d="M7 7c0-1.109-.891-2-2-2s-2 .891-2 2 .891 2 2 2 2-.891 2-2zm16.672 9c0 .531-.219 1.047-.578 1.406l-7.672 7.688c-.375.359-.891.578-1.422.578s-1.047-.219-1.406-.578L1.422 13.906C.625 13.125 0 11.609 0 10.5V4c0-1.094.906-2 2-2h6.5c1.109 0 2.625.625 3.422 1.422l11.172 11.156c.359.375.578.891.578 1.422zm6 0c0 .531-.219 1.047-.578 1.406l-7.672 7.688a2.08 2.08 0 0 1-1.422.578c-.812 0-1.219-.375-1.75-.922l7.344-7.344c.359-.359.578-.875.578-1.406s-.219-1.047-.578-1.422L14.422 3.422C13.625 2.625 12.11 2 11 2h3.5c1.109 0 2.625.625 3.422 1.422l11.172 11.156c.359.375.578.891.578 1.422z"></path>
</svg>
    <strong>Tags:</strong>&nbsp;
    <ul class="tags tags-small">
      
        <li><a href="../../../tag/API.html" rel="nofollow">API</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/DTMF" rel="nofollow">DTMF</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Example" rel="nofollow">Example</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Guide" rel="nofollow">Guide</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Media" rel="nofollow">Media</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/RTCDTMFSender" rel="nofollow">RTCDTMFSender</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/RTCPeerConnection" rel="nofollow">RTCPeerConnection</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/Touch-tone" rel="nofollow">Touch-tone</a></li>
      
        <li><a href="https://developer.mozilla.org/en-US/docs/tag/WebRTC" rel="nofollow">WebRTC</a></li>
      
        <li><a href="../../../tag/WebRTC%20API.html" rel="nofollow">WebRTC API</a></li>
      
    </ul>
  </div>


                
                  <div class="contributors-sub">
                    <svg class="icon icon-group" xmlns="http://www.w3.org/2000/svg" width="30" height="28" viewBox="0 0 30 28" aria-hidden="true">
    <path d="M9.266 14a5.532 5.532 0 0 0-4.141 2H3.031C1.468 16 0 15.25 0 13.516 0 12.25-.047 8 1.937 8c.328 0 1.953 1.328 4.062 1.328.719 0 1.406-.125 2.078-.359A7.624 7.624 0 0 0 7.999 10c0 1.422.453 2.828 1.266 4zM26 23.953C26 26.484 24.328 28 21.828 28H8.172C5.672 28 4 26.484 4 23.953 4 20.422 4.828 15 9.406 15c.531 0 2.469 2.172 5.594 2.172S20.063 15 20.594 15C25.172 15 26 20.422 26 23.953zM10 4c0 2.203-1.797 4-4 4S2 6.203 2 4s1.797-4 4-4 4 1.797 4 4zm11 6c0 3.313-2.688 6-6 6s-6-2.688-6-6 2.688-6 6-6 6 2.688 6 6zm9 3.516C30 15.25 28.531 16 26.969 16h-2.094a5.532 5.532 0 0 0-4.141-2A7.066 7.066 0 0 0 22 10a7.6 7.6 0 0 0-.078-1.031A6.258 6.258 0 0 0 24 9.328C26.109 9.328 27.734 8 28.062 8c1.984 0 1.937 4.25 1.937 5.516zM28 4c0 2.203-1.797 4-4 4s-4-1.797-4-4 1.797-4 4-4 4 1.797 4 4z"></path>
</svg>
                    <strong>Contributors to this page:</strong>
                    
        <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot" rel="nofollow">mdnwebdocs-bot</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/Sheppy" rel="nofollow">Sheppy</a>, 
    
        <a href="https://developer.mozilla.org/en-US/profiles/chrisdavidmills" rel="nofollow">chrisdavidmills</a>
    
                  </div>
                

                
                  <div class="contributors-sub">
                    <svg class="icon icon-clock" xmlns="http://www.w3.org/2000/svg" width="24" height="28" viewBox="0 0 24 28" aria-hidden="true">
    <path d="M14 8.5v7c0 .281-.219.5-.5.5h-5a.494.494 0 0 1-.5-.5v-1c0-.281.219-.5.5-.5H12V8.5c0-.281.219-.5.5-.5h1c.281 0 .5.219.5.5zm6.5 5.5c0-4.688-3.813-8.5-8.5-8.5S3.5 9.313 3.5 14s3.813 8.5 8.5 8.5 8.5-3.813 8.5-8.5zm3.5 0c0 6.625-5.375 12-12 12S0 20.625 0 14 5.375 2 12 2s12 5.375 12 12z"></path>
</svg>
                    <strong>Last updated by:</strong>
                    <a href="https://developer.mozilla.org/en-US/profiles/mdnwebdocs-bot" rel="nofollow">mdnwebdocs-bot</a>,
                    <time datetime="2019-03-18T16:47:42.337191-07:00">Mar 18, 2019, 4:47:42 PM</time>
                  </div>
                
              </div>
            </div>

            
              <!-- quick links and approvals strip -->
              <div id="wiki-left" class="column-strip wiki-column">

                <!-- crumbs -->
                
  
    
  

                
                  <!-- quick links -->
                  
  <div class="quick-links" id="quick-links">
    <div class="quick-links-head">Related Topics</div>
    <ol><li><strong><a href="../WebRTC_API.html">WebRTC API</a></strong></li><li><strong><a href="../WebRTC_API.html"><code>WebRTC_API</code></a></strong></li><li class="toggle"><details open=""><summary>Events</summary><ol><li><a href="../RTCPeerConnection/addstream_event.html"><code>addstream</code></a></li><li><a href="../RTCPeerConnection/icecandidate_event.html"><code>icecandidate</code></a></li><li><a href="../RTCPeerConnection/iceconnectionstatechange_event.html"><code>iceconnectionstatechange</code></a></li><li><a href="../RTCPeerConnection/icegatheringstatechange_event.html"><code>icegatheringstatechange</code></a></li><li><a href="../RTCPeerConnection/negotiationneeded_event.html"><code>negotiationneeded</code></a></li><li><a href="../RTCPeerConnection/removestream_event.html"><code>removestream</code></a></li><li><a href="../RTCPeerConnection/signalingstatechange_event.html"><code>signalingstatechange</code></a></li><li><a href="../RTCPeerConnection/datachannel_event.html"><code>datachannel</code></a></li><li><a href="../HTMLDialogElement/close_event.html"><code>close</code></a></li><li><a href="../Element/error_event.html"><code>error</code></a></li><li><a href="../BroadcastChannel/message_event.html"><code>message</code></a></li><li><a href="../RTCDataChannel/open_event.html"><code>open</code></a></li><li><a href="../RTCDTMFSender/tonechange_event.html"><code>tonechange</code></a></li><li><a href="../RTCPeerConnection/identityresult_event.html"><code>identityresult</code></a></li><li><a href="../RTCPeerConnection/idpassertionerror_event.html"><code>idpassertionerror</code></a></li><li><a href="../RTCPeerConnection_idpvalidationerror_event.html"><code>idpvalidationerror</code></a></li><li><a href="../RTCPeerConnection/peeridentity_event.html"><code>peeridentity</code></a></li><li><a rel="nofollow" href="../../Events/isolationchange.html" class="new"><code>isolationchange</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Related pages for WebRTC</summary><ol><li><a href="../MediaDevices/getUserMedia.html"><code>MediaDevices.getUserMedia()</code></a></li><li><a href="../RTCCertificate.html"><code>RTCCertificate</code></a></li><li><a href="../RTCDTMFSender.html"><code>RTCDTMFSender</code></a></li><li><a href="../RTCDTMFToneChangeEvent.html"><code>RTCDTMFToneChangeEvent</code></a></li><li><a href="../RTCDataChannel.html"><code>RTCDataChannel</code></a></li><li><a href="../RTCDataChannelEvent.html"><code>RTCDataChannelEvent</code></a></li><li><a rel="nofollow" href="../RTCDtlsTransport.html" class="new"><code>RTCDtlsTransport</code></a></li><li><a rel="nofollow" href="../RTCErrorEvent.html" class="new"><code>RTCErrorEvent</code></a></li><li><a href="../RTCIceCandidate.html"><code>RTCIceCandidate</code></a></li><li><a href="../RTCIceTransport.html"><code>RTCIceTransport</code></a></li><li><a href="../RTCPeerConnection.html"><code>RTCPeerConnection</code></a></li><li><a rel="nofollow" href="../RTCPeerConnectionIceErrorEvent.html" class="new"><code>RTCPeerConnectionIceErrorEvent</code></a></li><li><a href="../RTCPeerConnectionIceEvent.html"><code>RTCPeerConnectionIceEvent</code></a></li><li><a href="../RTCRtpReceiver.html"><code>RTCRtpReceiver</code></a></li><li><a href="../RTCRtpSender.html"><code>RTCRtpSender</code></a></li><li><a href="../RTCRtpTransceiver.html"><code>RTCRtpTransceiver</code></a></li><li><a href="../RTCSctpTransport.html"><code>RTCSctpTransport</code></a></li><li><a href="../RTCSessionDescription.html"><code>RTCSessionDescription</code></a></li><li><a rel="nofollow" href="../RTCStatsEvent.html" class="new"><code>RTCStatsEvent</code></a></li><li><a href="../RTCStatsReport.html"><code>RTCStatsReport</code></a></li><li><a href="../RTCTrackEvent.html"><code>RTCTrackEvent</code></a></li></ol></details></li></ol>
  </div>
                

                <!-- approvals -->
                

              </div>
            
          </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

    
      <div class="newsletter-box">
        <div class="newsletter">
    <form id="newsletterForm" class="newsletter-form nodisable" name="newsletter-form" action="https://www.mozilla.org/en-US/newsletter/" method="post">
        <div class="newsletter-head">
            <h2 class="newsletter-teaser">Learn the best of web development</h2>
            <p class="newsletter-description">Get the latest and greatest from MDN delivered straight to your inbox.</p>
            
        </div>

        <div class="newsletter-fields">
            <input type="hidden" id="fmt" name="fmt" value="H">
            <input type="hidden" id="newsletterNewslettersInput" name="newsletters" value="app-dev">
            <div id="newsletterErrors" class="newsletter-errors"></div>

            <div id="newsletterEmail" class="form-group newsletter-group-email">
                <label for="newsletterEmailInput" class="form-label offscreen">E-mail</label>
                <input type="email" id="newsletterEmailInput" name="email" class="form-input newsletter-input-email" required="" placeholder="you@example.com" size="30">
            </div>

            <div id="newsletterPrivacy" class="form-group form-group-agree newsletter-group-privacy hidden">
                <input type="checkbox" id="newsletterPrivacyInput" name="privacy" required="">
                <label for="newsletterPrivacyInput">
                I'm okay with Mozilla handling my info as explained in this <a href="https://www.mozilla.org/privacy/">Privacy Policy</a>.
                </label>
            </div>
            <div id="newsletterSubmit" class="newsletter-group-submit">
                <button id="newsletter-submit" type="submit" class="button neutral newsletter-submit">
                    Sign up now<svg class="icon icon-arrow" xmlns="http://www.w3.org/2000/svg" width="23" height="28" viewBox="0 0 23 28" aria-hidden="true">
    <path d="M23 15a2.01 2.01 0 0 1-.578 1.422L12.25 26.594c-.375.359-.891.578-1.422.578s-1.031-.219-1.406-.578L8.25 25.422c-.375-.375-.594-.891-.594-1.422s.219-1.047.594-1.422L12.828 18h-11C.703 18 0 17.062 0 16v-2c0-1.062.703-2 1.828-2h11L8.25 7.406a1.96 1.96 0 0 1 0-2.812l1.172-1.172c.375-.375.875-.594 1.406-.594s1.047.219 1.422.594l10.172 10.172c.375.359.578.875.578 1.406z"></path>
</svg>
                </button>
            </div>
        </div>
    </form>
    <div id="newsletterThanks" class="newsletter-thanks hidden">
        <h2>Thanks! Please check your inbox to confirm your subscription.</h2>
        <p>If you havent previously confirmed a subscription to a Mozilla-related newsletter you may have to do so. Please check your inbox or your spam filter for an email from us.
        </p>
    </div>
    <button id="newsletterHide" type="button" class="only-icon newsletter-hide hidden">
        <span>Hide Newsletter Sign-up</span>
        <svg class="icon icon-close" xmlns="http://www.w3.org/2000/svg" width="22" height="28" viewBox="0 0 22 28" aria-hidden="true" role="img"><title></title><path d="M20.281 20.656c0 .391-.156.781-.438 1.062l-2.125 2.125c-.281.281-.672.438-1.062.438s-.781-.156-1.062-.438L11 19.249l-4.594 4.594c-.281.281-.672.438-1.062.438s-.781-.156-1.062-.438l-2.125-2.125c-.281-.281-.438-.672-.438-1.062s.156-.781.438-1.062L6.751 15l-4.594-4.594c-.281-.281-.438-.672-.438-1.062s.156-.781.438-1.062l2.125-2.125c.281-.281.672-.438 1.062-.438s.781.156 1.062.438L11 10.751l4.594-4.594c.281-.281.672-.438 1.062-.438s.781.156 1.062.438l2.125 2.125c.281.281.438.672.438 1.062s-.156.781-.438 1.062L15.249 15l4.594 4.594c.281.281.438.672.438 1.062z"></path></svg>
    </button>
</div>
      </div>
    

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="/en-US/users/signin?next=/en-US/docs/Web/API/WebRTC_API/Using_DTMF%24edit" label="Edit page"></menuitem>
    <menuitem data-action="/en-US/docs/Web/API/WebRTC_API/Using_DTMF$history" label="View page history"></menuitem>
  </menu>

      </div>
  </main>

  <!-- Footer -->
    <footer id="nav-footer" class="nav-footer"><div class="center"><a href="http://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF">Using DTMF with WebRTC</a> by <a href="http://developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF$history">Mozilla Contributors</a> is licensed under <a href="http://creativecommons.org/licenses/by-sa/2.5/" class="external external-icon">CC-BY-SA 2.5</a>.</div></footer> 

  <!-- site js -->
  
    
    <!--[if lte IE 8]><script async="" type="text/javascript" src=".selectivizr.8bb9e662e963.js" charset="utf-8"></script><![endif]-->

    
    <script src="../../../../../static/jsi18n/en-US/javascript.414b87adc480.js"></script>
    <script type="text/javascript" src="../../../../../static/build/js/main.07c77248863e.js" charset="utf-8"></script>
    <script>
    if (window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
  </script>
    
  
    <script async="" type="text/javascript" src="../../../../../static/build/js/syntax-prism.js" charset="utf-8"></script><script type="text/javascript" src=".selectivizr.8bb9e662e963.js" charset="utf-8"></script><!--[endif]---->

    
    <script src="../../../../../static/jsi18n/en-US/javascript.414b87adc480.js"></script>
    <script type="text/javascript" src="../../../../../static/build/js/main.07c77248863e.js" charset="utf-8"></script>
    <script>
    if (window.mdn && mdn.analytics) mdn.analytics.trackOutboundLinks();
  </script>
    
  
    <script async="" type="text/javascript" src="../../../../../static/build/js/wiki.c63623e4caba.js" charset="utf-8" id="wikiscript"></script>


  

  

  

  
    <script async="" type="text/javascript" src="../../../../../static/build/js/newsletter.a85c5c2892e5.js" charset="utf-8"></script>
  




<!-- Mirrored from developer.mozilla.org/en-US/docs/Web/API/WebRTC_API/Using_DTMF by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 01 May 2019 23:20:34 GMT -->
</body></html>